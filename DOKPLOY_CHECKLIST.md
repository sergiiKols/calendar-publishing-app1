# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤ Dokploy

## üìã –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è:

### 1Ô∏è‚É£ –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è
- [ ] –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ (–∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ –∏–ª–∏ "Success")
- [ ] –ù–µ—Ç –∫—Ä–∞—Å–Ω—ã—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- [ ] –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω (—Å—Ç–∞—Ç—É—Å "Running")

### 2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞ (–≤–∫–ª–∞–¥–∫–∞ Domains)
**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
https://calendar.energo-audit.online
Path: /
Port: 3000
HTTP
Cert: Let's Encrypt ‚úÖ  (–∏–ª–∏ –¥—Ä—É–≥–æ–π –≤–∞–ª–∏–¥–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)
DNS Valid ‚úÖ
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:**
- `Cert: none` ‚ùå - SSL –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å
- `Cert: Let's Encrypt` ‚úÖ - –æ—Ç–ª–∏—á–Ω–æ, SSL —Ä–∞–±–æ—Ç–∞–µ—Ç
- `Cert: Error` ‚ùå - –æ—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è SSL, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç—ã 80/443

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ Environment (–≤–∫–ª–∞–¥–∫–∞ Environment)
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- [ ] `NEXTAUTH_URL=https://calendar.energo-audit.online`
- [ ] `NEXTAUTH_SECRET` (–ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)
- [ ] `POSTGRES_URL` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç Dokploy)
- [ ] `CALENDAR_API_KEY` (–≤–∞—à API –∫–ª—é—á)
- [ ] `CRON_SECRET` (—Å–µ–∫—Ä–µ—Ç –¥–ª—è cron)

### 4Ô∏è‚É£ –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
**URL:** https://calendar.energo-audit.online

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- [ ] –°–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –ó–µ–ª–µ–Ω—ã–π –∑–∞–º–æ—á–µ–∫ HTTPS –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ üîí
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞ –∏–ª–∏ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

### 5Ô∏è‚É£ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### –ü—Ä–æ–±–ª–µ–º–∞: "Cert: none" –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Domains
2. –ù–∞–∂–º–∏—Ç–µ ‚úèÔ∏è (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å) –Ω–∞ –¥–æ–º–µ–Ω–µ
3. –ù–∞–π–¥–∏—Ç–µ –æ–ø—Ü–∏—é SSL/Let's Encrypt
4. –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–¥–µ–ø–ª–æ–π—Ç–µ

#### –ü—Ä–æ–±–ª–µ–º–∞: "502 Bad Gateway"
**–ü—Ä–∏—á–∏–Ω—ã:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω
- –û—à–∏–±–∫–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: –≤–∫–ª–∞–¥–∫–∞ Deployments ‚Üí View Logs
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –ü—Ä–æ–±–ª–µ–º–∞: "This site can't be reached"
**–ü—Ä–∏—á–∏–Ω—ã:**
- DNS –µ—â–µ –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è
- –ü–æ—Ä—Ç—ã 80/443 –∑–∞–∫—Ä—ã—Ç—ã
- Traefik –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS: `nslookup calendar.energo-audit.online`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Traefik —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Dokploy
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS

#### –ü—Ä–æ–±–ª–µ–º–∞: "Your connection is not private" (SSL –æ—à–∏–±–∫–∞)
**–ü—Ä–∏—á–∏–Ω—ã:**
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –ø–æ–ª—É—á–µ–Ω
- –î–æ–º–µ–Ω —É–∫–∞–∑–∞–Ω —Å HTTPS, –Ω–æ Cert: none

**–†–µ—à–µ–Ω–∏–µ:**
1. –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π SSL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–æ–º–µ–Ω–∞
2. –ò–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTP –≤–º–µ—Å—Ç–æ HTTPS

#### –ü—Ä–æ–±–ª–µ–º–∞: NextAuth –æ—à–∏–±–∫–∞ –∏–ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π redirect
**–ü—Ä–∏—á–∏–Ω–∞:**
- `NEXTAUTH_URL` –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º URL

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Environment ‚Üí `NEXTAUTH_URL`
2. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–æ—á–Ω–æ: `https://calendar.energo-audit.online`
3. –ï—Å–ª–∏ –¥–æ–º–µ–Ω –±–µ–∑ SSL - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `http://`

---

## üîß –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ö–æ–º–∞–Ω–¥–∞ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS
–ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
```bash
nslookup calendar.energo-audit.online
```
–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

### –ö–æ–º–∞–Ω–¥–∞ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ—Ä—Ç –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
curl -I http://calendar.energo-audit.online
```
–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ (200, 301, 302 –∏ —Ç.–¥.)

### –ö–æ–º–∞–Ω–¥–∞ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å HTTPS
```bash
curl -I https://calendar.energo-audit.online
```
–î–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫ SSL.

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è –≤ Dokploy:

```
1. Cloning Repo ‚úÖ
2. Installing dependencies (npm install) ‚è≥
3. Building application (npm run build) ‚è≥
4. Creating Docker image ‚è≥
5. Starting container ‚è≥
6. Configuring Traefik routing ‚è≥
7. Obtaining SSL certificate (if enabled) ‚è≥
8. Deployment successful ‚úÖ
```

**–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è:** ~2-4 –º–∏–Ω—É—Ç—ã –æ–±—â–µ–µ –≤—Ä–µ–º—è –¥–µ–ø–ª–æ—è

---

## üí° –í–∞–∂–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏:

### –ï—Å–ª–∏ SSL –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. **–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTP
   - Domains: `http://calendar.energo-audit.online`
   - Environment: `NEXTAUTH_URL=http://calendar.energo-audit.online`

2. **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Certbot
   - –¢—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH
   - –°–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ DEPLOY_ENERGO_AUDIT.md

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** Cloudflare –¥–ª—è SSL
   - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL —á–µ—Ä–µ–∑ Cloudflare
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ DNS –ø–∞–Ω–µ–ª—å

### –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–µ–ø–ª–æ—è
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:

1. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ https://calendar.energo-audit.online
2. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (WordPress, Telegram –∏ —Ç.–¥.)
4. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å SMI –ø—Ä–æ–µ–∫—Ç–æ–º
5. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Å—Ç–∞—Ç–µ–π

---

**–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è –∏ –ø—Ä–∏—à–ª–∏—Ç–µ:**
- –°–∫—Ä–∏–Ω—à–æ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –¥–µ–ø–ª–æ—è
- –°–∫—Ä–∏–Ω—à–æ—Ç –≤–∫–ª–∞–¥–∫–∏ Domains (—Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Cert)
- –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –¥–æ–º–µ–Ω–∞
