# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ SMI ‚Üí Calendar

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:

1. **Calendar App** - endpoint `/api/projects/sync` —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úì
2. **SMI `database.py`** - —Ñ—É–Ω–∫—Ü–∏—è `sync_project_to_calendar()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ ‚úì
3. **SMI `api_server.py`** - –∞–≤—Ç–æ–≤—ã–∑–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ ‚úì
4. **Environment** - `CALENDAR_APP_URL` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `.env.local` ‚úì

---

## üîÑ –®–∞–≥–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å SMI backend

**–í–∞–∂–Ω–æ!** –ù—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å, —á—Ç–æ–±—ã –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ.

```powershell
# –í –æ–∫–Ω–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω SMI backend:
# –ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:
cd C:\Users\User\Desktop\smi
python api_server.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
INFO:     Uvicorn running on http://0.0.0.0:8000
INFO:     Application startup complete.
```

---

### 2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç

**–í –Ω–æ–≤–æ–º –æ–∫–Ω–µ PowerShell:**

```powershell
$body = @{
    project_type_id = 1
    name = "–¢–µ—Å—Ç–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è"
    description = "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Calendar App"
    batch_size = 10
    created_by = "admin"
} | ConvertTo-Json

$response = Invoke-RestMethod -Uri "http://localhost:8000/api/projects" -Method Post -Body $body -ContentType "application/json"
$response | ConvertTo-Json -Depth 10
```

---

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**

```json
{
  "success": true,
  "message": "Project created successfully",
  "project_id": 4,
  "calendar_sync": {
    "success": true,
    "calendar_project_id": 15,
    "message": "Project synced to Calendar App: –¢–µ—Å—Ç–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è"
  }
}
```

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- ‚úÖ `success: true` - –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ SMI
- ‚úÖ `calendar_sync.success: true` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
- ‚úÖ `calendar_project_id` - ID –ø—Ä–æ–µ–∫—Ç–∞ –≤ Calendar App

---

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Calendar App

**–û—Ç–∫—Ä—ã—Ç—å:** https://calendar-app-gamma-puce.vercel.app/calendar

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**
1. –í —Å–µ–ª–µ–∫—Ç–æ—Ä–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
2. –ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å SMI
3. –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: `calendar_sync` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –æ—Ç–≤–µ—Ç–µ

**–ü—Ä–∏—á–∏–Ω–∞:** SMI backend –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ctrl+C
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞
cd C:\Users\User\Desktop\smi
python api_server.py
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: `calendar_sync.success: false`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**

1. **Calendar App –¥–æ—Å—Ç—É–ø–µ–Ω?**
```powershell
Invoke-RestMethod -Uri "https://calendar-app-gamma-puce.vercel.app/api/projects/sync" -Method GET
```

2. **URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ `.env.local`?**
```powershell
Get-Content "C:\Users\User\Desktop\smi\.env.local" | Select-String "CALENDAR_APP_URL"
```

3. **–õ–æ–≥–∏ SMI backend:**
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –æ–∫–Ω–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `api_server.py`

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–æ–µ–∫—Ç –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ Calendar UI

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**

1. **–ü—Ä–æ–µ–∫—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è?**
```powershell
Invoke-RestMethod -Uri "https://calendar-app-gamma-puce.vercel.app/api/projects" -Method GET
```

2. **–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞–ª–µ–Ω–¥–∞—Ä—è**
–ù–∞–∂–∞—Ç—å F5 –≤ –±—Ä–∞—É–∑–µ—Ä–µ

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

### SMI Database (projects —Ç–∞–±–ª–∏—Ü–∞):
```sql
SELECT id, name, description FROM projects ORDER BY id DESC LIMIT 5;
```

### Calendar Database (projects —Ç–∞–±–ª–∏—Ü–∞):
```sql
SELECT id, external_project_id, name, synced_at FROM projects ORDER BY id DESC LIMIT 5;
```

**–°–≤—è–∑—å:**
- `smi.projects.id` = `calendar.projects.external_project_id`

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏:**

1. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ SMI
2. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ Calendar
3. ‚úÖ –ü—Ä–æ–µ–∫—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä–µ Calendar UI
4. ‚úÖ –ú–æ–∂–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
5. ‚úÖ –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å—Ç–∞—Ç—å–∏ –∏–∑ SMI –æ–Ω–∞ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –ø—Ä–æ–µ–∫—Ç—É

---

## üéØ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π flow:

1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ SMI ‚úì
2. –ù–∞–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å—é –≤ SMI
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é –≤ Calendar
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Ç–∞—Ç—å—è –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É
5. –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ

---

**–ì–æ—Ç–æ–≤—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?** üöÄ

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —à–∞–≥–∏ 1-4 –∏ —Å–æ–æ–±—â–∏—Ç–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö!
