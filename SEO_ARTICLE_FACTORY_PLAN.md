# ğŸ“ SEO Article Factory - ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ñ‹Ğ¹ ĞŸĞ»Ğ°Ğ½ Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

**Ğ­Ñ‚Ğ°Ğ¿ 2: ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ĞµĞ¹ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ ÑĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ ÑĞ´Ñ€Ğ°**

## ğŸ¯ ĞĞ±Ğ·Ğ¾Ñ€

**Ğ’Ñ…Ğ¾Ğ´:** Ğ¡ĞµĞ¼Ğ¯Ğ´Ñ€Ğ¾ JSON (8 ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ², 127 KW) Ğ¸Ğ· Ğ­Ñ‚Ğ°Ğ¿Ğ° 1  
**Ğ’Ñ‹Ñ…Ğ¾Ğ´:** 5â€“20 Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ñ… ÑÑ‚Ğ°Ñ‚ĞµĞ¹ â†’ ĞšĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ (Ğ­Ñ‚Ğ°Ğ¿ 3)

**Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº:**
- **AI:** Qwen API ($1.80/$5 Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹) - Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°
- **SEO:** DataForSEO ($0.03/Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ) - SERP Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·
- **Backend:** Next.js 14 API Routes
- **Frontend:** React 18 + TailwindCSS
- **Database:** PostgreSQL (ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°)
- **Real-time:** Server-Sent Events Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ°

**Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ:** ~$0.25â€“0.50 Ğ·Ğ° ÑÑ‚Ğ°Ñ‚ÑŒÑ (2000â€“3000 ÑĞ»Ğ¾Ğ²)

---

## ğŸ“Š ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SEO Article Factory                      â”‚
â”‚                     (6-Step Wizard)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
   â”‚  Qwen   â”‚          â”‚DataForSEO â”‚        â”‚PostgreSQL â”‚
   â”‚   API   â”‚          â”‚    API    â”‚        â”‚  Database â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚                     â”‚
   Generate:            Get SERP:            Store:
   - Outlines           - Top 3 results      - Sessions
   - Sections           - Word counts        - Articles
   - Takeaways          - Formats            - Progress
```

---

## ğŸ¨ ĞŸĞĞ›ĞĞ«Ğ™ UI Ğ”Ğ˜Ğ—ĞĞ™Ğ - 6 Ğ¨Ğ°Ğ³Ğ¾Ğ² Wizard

### Ğ¨ĞĞ“ 1: Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° + Ğ’Ñ‹Ğ±Ğ¾Ñ€ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ° (30 ÑĞµĞº)

**UI ĞœĞ°ĞºĞµÑ‚:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¨ SEO Article Factory                  [Qwen $0/$5 | DFSEO $0]   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” Ğ¨ĞĞ“ 1/6: Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€ Ğ´Ğ»Ñ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ÑĞ´Ñ€Ğ¾: "Yacht Charter 2026" (Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ğ¾)               â”‚
â”‚ Ğ’ÑĞµĞ³Ğ¾: 8 ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ², 127 ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… ÑĞ»Ğ¾Ğ², SV: 245k/Ğ¼ĞµÑ               â”‚
â”‚                                                                     â”‚
â”‚ Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ²:                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ID â”‚ ĞšĞ»Ğ°ÑÑ‚ĞµÑ€                â”‚ KW   â”‚ SV     â”‚ CPC  â”‚ Priority â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ 1  â”‚ Luxury Yacht Charter   â”‚ 34   â”‚ 89.4k  â”‚ $2.85â”‚ ğŸ”¥ HIGH  â”‚  â”‚
â”‚ â”‚ 2  â”‚ Yacht Rental Prices    â”‚ 18   â”‚ 45.2k  â”‚ $3.10â”‚ ğŸ”¥ HIGH  â”‚  â”‚
â”‚ â”‚ 3  â”‚ Mediterranean Routes   â”‚ 25   â”‚ 38.7k  â”‚ $1.95â”‚ ğŸ“Š MED   â”‚  â”‚
â”‚ â”‚ 4  â”‚ Yacht Crew Services    â”‚ 12   â”‚ 22.1k  â”‚ $2.40â”‚ ğŸ“Š MED   â”‚  â”‚
â”‚ â”‚ 5  â”‚ Boat Charter Types     â”‚ 15   â”‚ 18.5k  â”‚ $1.75â”‚ ğŸ“‰ LOW   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚ Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½: [Luxury Yacht Charter] (34 KW, SV: 89.4k)                  â”‚
â”‚                                                                     â”‚
â”‚ Ğ¢Ğ¸Ğ¿ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸:                                                         â”‚
â”‚ â—‹ Pillar (Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ ÑÑ‚Ğ°Ñ‚ÑŒÑ 3000+ ÑĞ»Ğ¾Ğ²)                               â”‚
â”‚ â—‹ Sub-page (ÑƒĞ·ĞºĞ°Ñ Ñ‚ĞµĞ¼Ğ° 1500+ ÑĞ»Ğ¾Ğ²)                                â”‚
â”‚ â—‹ Parasite Guest Post (Ñ bio + backlink)                          â”‚
â”‚                                                                     â”‚
â”‚ Ğ¯Ğ·Ñ‹Ğº: [ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹ â–¼] | Ğ ĞµĞ³Ğ¸Ğ¾Ğ½: [Ğ Ğ¾ÑÑĞ¸Ñ â–¼] | Ğ¢Ğ¾Ğ½: [Professional â–¼]â”‚
â”‚                                                                     â”‚
â”‚ [â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´ Ğº ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ°Ğ¼] [â–¶ï¸ SERP Analysis â†’]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸:**

- **Component:** pp/seo-writer/page.tsx
- **Data Source:** Existing seo_semantic_clusters table
- **State:** { selectedCluster: ClusterData, articleType: 'pillar'|'sub'|'parasite', locale: 'ru'|'en' }
- **Action:** Load clusters via /api/seo/semantic-cluster â†’ Display TanStack Table

---

### Ğ¨ĞĞ“ 2: SERP Research (DataForSEO, 15â€“60 ÑĞµĞº)

**UI ĞœĞ°ĞºĞµÑ‚:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” Ğ¨ĞĞ“ 2/6: SERP Research - Luxury Yacht Charter                   â”‚
â”‚ [Progress â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 33%]                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚ ğŸ“Š ĞĞ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ°: Luxury Yacht Charter                           â”‚
â”‚ ğŸ“ˆ ĞĞ±Ñ‰Ğ¸Ğ¹ SV: 89,400/Ğ¼ĞµÑ | Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹ CPC: $2.85 | Competition: 0.24  â”‚
â”‚                                                                     â”‚
â”‚ ğŸ” ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ñ‚Ğ¾Ğ¿-3 ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… ÑĞ»Ğ¾Ğ² Ğ¸Ğ· ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ°:                         â”‚
â”‚ â€¢ yacht charter mediterranean (SV: 33.2k)                           â”‚
â”‚ â€¢ luxury boat rental (SV: 28.1k)                                   â”‚
â”‚ â€¢ private yacht charter (SV: 18.5k)                                â”‚
â”‚                                                                     â”‚
â”‚ ğŸ“‘ Ğ¢Ğ¾Ğ¿-3 Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ° SERP:                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ¥‡ Rank #1         â”‚ ğŸ¥ˆ Rank #2        â”‚ ğŸ¥‰ Rank #3              â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ yachtworld.com    â”‚ charterworld.com  â”‚ boatbookings.com        â”‚â”‚
â”‚ â”‚ "Mediterranean    â”‚ "Luxury Yacht     â”‚ "Yacht Charter Prices   â”‚â”‚
â”‚ â”‚  Yacht Charter    â”‚  Charters 2026"   â”‚  & Stats"               â”‚â”‚
â”‚ â”‚  Guide"           â”‚                   â”‚                         â”‚â”‚
â”‚ â”‚ â€¢ 3,200 ÑĞ»Ğ¾Ğ²      â”‚ â€¢ 2,800 ÑĞ»Ğ¾Ğ²      â”‚ â€¢ 2,100 ÑĞ»Ğ¾Ğ²            â”‚â”‚
â”‚ â”‚ â€¢ H2: 6, H3: 15   â”‚ â€¢ H2: 5, H3: 12   â”‚ â€¢ H2: 4, Lists          â”‚â”‚
â”‚ â”‚ â€¢ Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: Guide   â”‚ â€¢ Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: Listing â”‚ â€¢ Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: Comparison    â”‚â”‚
â”‚ â”‚ â€¢ Images: 12      â”‚ â€¢ Images: 8       â”‚ â€¢ Tables: 4             â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                     â”‚
â”‚ ğŸ¯ AI Insights (Ğ°Ğ²Ñ‚Ğ¾Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ):                                     â”‚
â”‚ â€¢ 70% ÑÑ‚Ğ°Ñ‚ĞµĞ¹ ĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¸Ğµ (Ñ†ĞµĞ½Ñ‹ + Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ)                    â”‚
â”‚ â€¢ Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ Ğ´Ğ»Ğ¸Ğ½Ğ°: 2,700 ÑĞ»Ğ¾Ğ²                                        â”‚
â”‚ â€¢ ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹: Ñ†ĞµĞ½Ğ¾Ğ²Ñ‹Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹, ĞºĞ°Ñ€Ñ‚Ñ‹ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ², Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹   â”‚
â”‚ â€¢ Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ñ‹Ğµ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ‹: ÑĞ¿Ğ¸ÑĞºĞ¸, ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ñ, Ñ‡ĞµĞº-Ğ»Ğ¸ÑÑ‚Ñ‹              â”‚
â”‚ â€¢ Intent: Commercial (80%), Informational (20%)                    â”‚
â”‚                                                                     â”‚
â”‚ â±ï¸ SERP Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹: 3/3 Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¾ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 100% (Cost: $0.009)     â”‚
â”‚                                                                     â”‚
â”‚ [âœï¸ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ KW] [ğŸ”„ ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ÑŒ SERP $0.009] [â–¶ï¸ Generate Outline] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸:**
- **API Endpoint:** POST /api/seo-writer/serp-analysis
- **DataForSEO:** 3x /v3/serp/google/organic/task_post (top 3 KW)
- **Response:** { serpResults: SerpItem[], insights: string, cost: number }
- **AI Summary:** Qwen quick prompt Ğ´Ğ»Ñ insights (~100 tokens)

---

### Ğ¨ĞĞ“ 3: Outline Generator (Qwen AI, 10 ÑĞµĞº)

**UI ĞœĞ°ĞºĞµÑ‚:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Ğ¨ĞĞ“ 3/6: Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸                             â”‚
â”‚ [Progress â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€ 66%]                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚ ğŸ¤– Qwen AI Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ outline Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ SERP...                    â”‚
â”‚                                                                     â”‚
â”‚ âœ… Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (Markdown):                            â”‚
â”‚                                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ # Luxury Yacht Charter: ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ“Ğ¸Ğ´ 2026                        â”‚â”‚
â”‚ â”‚                                                                 â”‚â”‚
â”‚ â”‚ ## 1. Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ luxury yacht charter                           â”‚â”‚
â”‚ â”‚    ### 1.1 ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ¿Ñ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°                          â”‚â”‚
â”‚ â”‚    ### 1.2 Ğ Ñ‹Ğ½Ğ¾Ğº ÑÑ…Ñ‚-Ñ‡Ğ°Ñ€Ñ‚ĞµÑ€Ğ° Ğ² 2026                            â”‚â”‚
â”‚ â”‚    ### 1.3 Ğ¢Ğ¸Ğ¿Ñ‹ Ñ‡Ğ°Ñ€Ñ‚ĞµÑ€Ğ½Ñ‹Ñ… ÑÑ…Ñ‚                                  â”‚â”‚
â”‚ â”‚                                                                 â”‚â”‚
â”‚ â”‚ ## 2. ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ                                    â”‚â”‚
â”‚ â”‚    ### 2.1 Ğ¡Ñ€ĞµĞ´Ğ¸Ğ·ĞµĞ¼Ğ½Ğ¾Ğµ Ğ¼Ğ¾Ñ€Ğµ                                    â”‚â”‚
â”‚ â”‚    ### 2.2 ĞšĞ°Ñ€Ğ¸Ğ±Ñ‹                                              â”‚â”‚
â”‚ â”‚    ### 2.3 Ğ®Ğ³Ğ¾-Ğ’Ğ¾ÑÑ‚Ğ¾Ñ‡Ğ½Ğ°Ñ ĞĞ·Ğ¸Ñ                                  â”‚â”‚
â”‚ â”‚                                                                 â”‚â”‚
â”‚ â”‚ ## 3. Ğ¦ĞµĞ½Ñ‹ Ğ¸ Ğ±ÑĞ´Ğ¶ĞµÑ‚                                             â”‚â”‚
â”‚ â”‚    ### 3.1 Ğ¤Ğ°ĞºÑ‚Ğ¾Ñ€Ñ‹ Ñ†ĞµĞ½Ğ¾Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ                             â”‚â”‚
â”‚ â”‚    ### 3.2 Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğµ Ñ€Ğ°ÑÑ†ĞµĞ½ĞºĞ¸ Ğ¿Ğ¾ Ñ€ĞµĞ³Ğ¸Ğ¾Ğ½Ğ°Ğ¼                        â”‚â”‚
â”‚ â”‚    ### 3.3 Ğ¡ĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ñ‹                                     â”‚â”‚
â”‚ â”‚                                                                 â”‚â”‚
â”‚ â”‚ ## 4. ĞšĞ°Ğº Ğ·Ğ°Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑÑ…Ñ‚Ñƒ                                    â”‚â”‚
â”‚ â”‚    ### 4.1 Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ñ‡Ğ°Ñ€Ñ‚ĞµÑ€Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸                            â”‚â”‚
â”‚ â”‚    ### 4.2 ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ                                â”‚â”‚
â”‚ â”‚    ### 4.3 Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ¸ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ                              â”‚â”‚
â”‚ â”‚                                                                 â”‚â”‚
â”‚ â”‚ ## 5. Ğ§Ğ°ÑÑ‚Ğ¾ Ğ·Ğ°Ğ´Ğ°Ğ²Ğ°ĞµĞ¼Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ (FAQ)                            â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                     â”‚
â”‚ Ğ¦ĞµĞ»ĞµĞ²Ğ¾Ğ¹ Ğ¾Ğ±ÑŠĞµĞ¼: 2,700 ÑĞ»Ğ¾Ğ² (~450 ÑĞ»Ğ¾Ğ²/ÑĞµĞºÑ†Ğ¸Ñ)                       â”‚
â”‚ KW Ğ¿Ğ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ: 1.5â€“2.0% Ğ´Ğ»Ñ "luxury yacht charter"                  â”‚
â”‚                                                                     â”‚
â”‚ [âœï¸ Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ inline] [ğŸ”„ Regenerate $0.05] [â–¶ï¸ Write Article] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸:**
- **API Endpoint:** POST /api/seo-writer/generate-outline
- **Qwen Prompt:** 
```
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸ Ğ´Ğ»Ñ ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ğ²Ğ° "{primaryKW}".
SERP Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ»:
- Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ Ğ´Ğ»Ğ¸Ğ½Ğ°: {avgWords} ÑĞ»Ğ¾Ğ²
- ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ñ‚ĞµĞ¼Ñ‹: {topics}
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: {format}

Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:
- 4-6 Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… H2 Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¾Ğ²
- 2-4 H3 Ğ¿Ğ¾Ğ´Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ° Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ H2
- Ğ’ĞºĞ»ÑÑ‡Ğ¸ FAQ ÑĞµĞºÑ†Ğ¸Ñ
- Ğ£Ñ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°Ğ¹ ĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¸Ğ½Ñ‚ĞµĞ½Ñ‚
```
- **Cost:** ~.05 (500 tokens output)

---

### Ğ¨ĞĞ“ 4: ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ ÑĞµĞºÑ†Ğ¸Ğ¹ (Qwen Batch, 1â€“2 Ğ¼Ğ¸Ğ½)

**UI ĞœĞ°ĞºĞµÑ‚:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœï¸ Ğ¨ĞĞ“ 4/6: ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸ - Batch Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ                     â”‚
â”‚ [Progress â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 83%]                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚ ğŸš€ ĞŸĞ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ 5 ÑĞµĞºÑ†Ğ¸Ğ¹...                              â”‚
â”‚                                                                     â”‚
â”‚ ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ Ğ¿Ğ¾ ÑĞµĞºÑ†Ğ¸ÑĞ¼:                                                â”‚
â”‚ âœ… Ğ¡ĞµĞºÑ†Ğ¸Ñ 1/5: "Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ luxury yacht" â”€â”€â”€â”€ 100% (450 ÑĞ»Ğ¾Ğ²)      â”‚
â”‚ âœ… Ğ¡ĞµĞºÑ†Ğ¸Ñ 2/5: "ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ" â”€â”€â”€â”€ 100% (520 ÑĞ»Ğ¾Ğ²)      â”‚
â”‚ â³ Ğ¡ĞµĞºÑ†Ğ¸Ñ 3/5: "Ğ¦ĞµĞ½Ñ‹ Ğ¸ Ğ±ÑĞ´Ğ¶ĞµÑ‚" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 75% (Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ...)    â”‚
â”‚ â³ Ğ¡ĞµĞºÑ†Ğ¸Ñ 4/5: "ĞšĞ°Ğº Ğ·Ğ°Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 0% (Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸)      â”‚
â”‚ â³ Ğ¡ĞµĞºÑ†Ğ¸Ñ 5/5: "FAQ" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 0% (Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸)        â”‚
â”‚                                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ“„ Live Preview                                                 â”‚â”‚
â”‚ â”‚                                                                 â”‚â”‚
â”‚ â”‚ ## 1. Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ luxury yacht charter                           â”‚â”‚
â”‚ â”‚                                                                 â”‚â”‚
â”‚ â”‚ **Luxury ÑÑ…Ñ‚Ğ¸Ğ½Ğ³** â€” ÑÑ‚Ğ¾ Ğ°Ñ€ĞµĞ½Ğ´Ğ° Ñ‡Ğ°ÑÑ‚Ğ½Ñ‹Ñ… ÑÑƒĞ´Ğ¾Ğ² Ğ¿Ñ€ĞµĞ¼Ğ¸ÑƒĞ¼-ĞºĞ»Ğ°ÑÑĞ°    â”‚â”‚
â”‚ â”‚ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ´Ñ‹Ñ…Ğ°, Ğ¿ÑƒÑ‚ĞµÑˆĞµÑÑ‚Ğ²Ğ¸Ğ¹ Ğ¸Ğ»Ğ¸ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹. Ğ’ 2026 Ğ³Ğ¾Ğ´Ñƒ Ñ€Ñ‹Ğ½Ğ¾Ğº     â”‚â”‚
â”‚ â”‚ Ñ‡Ğ°Ñ€Ñ‚ĞµÑ€Ğ° Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ñ€Ğ¾ÑÑ‚ **18% Ğ³Ğ¾Ğ´ Ğº Ğ³Ğ¾Ğ´Ñƒ**, Ñ‡Ñ‚Ğ¾ ÑĞ²ÑĞ·Ğ°Ğ½Ğ¾ Ñ:  â”‚â”‚
â”‚ â”‚                                                                 â”‚â”‚
â”‚ â”‚ â€¢ Ğ Ğ°ÑÑ‚ÑƒÑ‰Ğ¸Ğ¼ ÑĞ¿Ñ€Ğ¾ÑĞ¾Ğ¼ Ğ½Ğ° ÑĞºÑĞºĞ»ÑĞ·Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ´Ñ‹Ñ…                       â”‚â”‚
â”‚ â”‚ â€¢ Ğ Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸ĞµĞ¼ Ñ†Ğ¸Ñ„Ñ€Ğ¾Ğ²Ñ‹Ñ… Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼ Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ                     â”‚â”‚
â”‚ â”‚ â€¢ ĞĞ¾Ğ²Ñ‹Ğ¼Ğ¸ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ°Ğ¼Ğ¸ Ğ² ĞĞ·Ğ¸Ğ¸ Ğ¸ ĞÑ€ĞºÑ‚Ğ¸ĞºĞµ                           â”‚â”‚
â”‚ â”‚                                                                 â”‚â”‚
â”‚ â”‚ ### 1.1 ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ¿Ñ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°                             â”‚â”‚
â”‚ â”‚ Ğ§Ğ°Ñ€Ñ‚ĞµÑ€ ÑÑ…Ñ‚Ñ‹ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸...            â”‚â”‚
â”‚ â”‚                                                                 â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                     â”‚
â”‚ [â¸ï¸ Pause] [â­ï¸ Skip current] [ğŸ‘ï¸ Toggle preview]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸:**
- **API Endpoint:** POST /api/seo-writer/generate-sections
- **Method:** Split outline â†’ 5-6 parallel Qwen calls
- **Streaming:** Server-Sent Events (SSE) Ğ´Ğ»Ñ real-time progress
- **Prompt per section:**
```
ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ Ñ€Ğ°Ğ·Ğ´ĞµĞ» "{sectionTitle}" Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸ Ğ¾ "{primaryKW}".
Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:
- 300-500 ÑĞ»Ğ¾Ğ²
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ ÑĞ¿Ğ¸ÑĞºĞ¸ Ğ¸ bold Ğ´Ğ»Ñ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ²
- Ğ’ĞºĞ»ÑÑ‡Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· SERP: {serpData}
- Ğ¡Ñ‚Ğ¸Ğ»ÑŒ: scannable, Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹
- Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒ 1-2 Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ° Ğ¸Ğ»Ğ¸ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ
```

---

### Ğ¨ĞĞ“ 5: ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ + Final Check (Qwen, 20 ÑĞµĞº)

**UI ĞœĞ°ĞºĞµÑ‚:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Ğ¨ĞĞ“ 5/6: SEO ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸ Ñ„Ğ¸Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ                          â”‚
â”‚ [Progress â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 95%]                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚ ğŸ“Š SEO ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ (Ğ°Ğ²Ñ‚Ğ¾Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°):                                     â”‚
â”‚ âœ… Ğ”Ğ»Ğ¸Ğ½Ğ° ÑÑ‚Ğ°Ñ‚ÑŒĞ¸: 2,850 ÑĞ»Ğ¾Ğ² (Ñ†ĞµĞ»ÑŒ: 2,700) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âœ“           â”‚
â”‚ âœ… KW density "luxury yacht charter": 1.8% (Ğ½Ğ¾Ñ€Ğ¼Ğ°) â”€â”€â”€ âœ“           â”‚
â”‚ âœ… Ğ§Ğ¸Ñ‚Ğ°ĞµĞ¼Ğ¾ÑÑ‚ÑŒ (Flesch): 72/100 (Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âœ“           â”‚
â”‚ âœ… H2 Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸: 5 (Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âœ“           â”‚
â”‚ âœ… H3 Ğ¿Ğ¾Ğ´Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸: 14 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âœ“           â”‚
â”‚ âš ï¸  Ğ’Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ñ… ÑÑÑ‹Ğ»Ğ¾Ğº: 0 (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ 3-5) â”€â”€â”€â”€â”€â”€ âš ï¸            â”‚
â”‚                                                                     â”‚
â”‚ ğŸ¯ Key Takeaways (Ğ°Ğ²Ñ‚Ğ¾Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ 5-8 Ğ¿ÑƒĞ½ĞºÑ‚Ğ¾Ğ²):                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ â€¢ Luxury yacht charter â€” Ñ€Ğ°ÑÑ‚ÑƒÑ‰Ğ¸Ğ¹ Ñ€Ñ‹Ğ½Ğ¾Ğº Ñ +18% Ğ² 2026          â”‚â”‚
â”‚ â”‚ â€¢ Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: â‚¬10k-50k/Ğ½ĞµĞ´ĞµĞ»Ñ Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ ÑÑ…Ñ‚Ñ‹     â”‚â”‚
â”‚ â”‚ â€¢ Ğ¢Ğ¾Ğ¿ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ: Ğ¡Ñ€ĞµĞ´Ğ¸Ğ·ĞµĞ¼Ğ½Ğ¾Ğ¼Ğ¾Ñ€ÑŒĞµ, ĞšĞ°Ñ€Ğ¸Ğ±Ñ‹, Ğ®Ğ’Ğ                â”‚â”‚
â”‚ â”‚ â€¢ Ğ’Ğ°Ğ¶Ğ½Ğ¾ ÑƒÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ ÑĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ñ‹ (Ñ‚Ğ¾Ğ¿Ğ»Ğ¸Ğ²Ğ¾, ÑĞºĞ¸Ğ¿Ğ°Ğ¶)            â”‚â”‚
â”‚ â”‚ â€¢ Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğµ Ñ‡Ğ°Ñ€Ñ‚ĞµÑ€Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸            â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                     â”‚
â”‚ ğŸŒ Parasite SEO (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾):                                      â”‚
â”‚ â˜‘ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ°Ğ²Ñ‚Ğ¾Ñ€ÑĞºÑƒÑ Ğ±Ğ¸Ğ¾                                           â”‚
â”‚ â˜‘ Ğ’ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ backlink: [https://yoursite.com â–¼]                      â”‚
â”‚ â˜‘ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ CTA Ğ² ĞºĞ¾Ğ½Ñ†Ğµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸                                      â”‚
â”‚                                                                     â”‚
â”‚ [ğŸ“¥ Download MD] [ğŸ“¤ Export HTML] [â–¶ï¸ Add to Calendar]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸:**
- **SEO Check:** Client-side JS analysis (keyword density, readability)
- **Takeaways:** Qwen prompt ~200 tokens
- **Export:** Markdown, HTML, or JSON format

---

### Ğ¨ĞĞ“ 6: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ² ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ (Supabase Realtime)

**UI ĞœĞ°ĞºĞµÑ‚:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… Ğ¨ĞĞ“ 6/6: ĞšĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¹                                   â”‚
â”‚ [Progress â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚ ğŸ“† ĞĞµĞ´ĞµĞ»Ñ: 3-9 Ğ¼Ğ°Ñ€Ñ‚Ğ° 2026                                          â”‚
â”‚                                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚  ĞŸĞ   â”‚ [ĞŸĞ£Ğ¡Ğ¢Ğ]                                              â”‚   â”‚
â”‚ â”‚ 12:00 â”‚ + Drop here                                          â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚  Ğ’Ğ¢   â”‚ ğŸ“ "Luxury Yacht Charter" (2,850 ÑĞ»Ğ¾Ğ²)               â”‚   â”‚
â”‚ â”‚ 15:00 â”‚ â†’ Ğ¡Ğ°Ğ¹Ñ‚: Main WordPress                               â”‚   â”‚
â”‚ â”‚       â”‚ â†’ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: Scheduled                                  â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚  Ğ¡Ğ    â”‚ ğŸ“ "Mediterranean Routes" (1,920 ÑĞ»Ğ¾Ğ²)               â”‚   â”‚
â”‚ â”‚ 10:00 â”‚ â†’ Ğ¡Ğ°Ğ¹Ñ‚: Guest Post (site1.com)                       â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚  Ğ§Ğ¢   â”‚ [ĞŸĞ£Ğ¡Ğ¢Ğ]                                              â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚  ĞŸĞ¢   â”‚ ğŸ“ "Yacht Prices 2026" (2,100 ÑĞ»Ğ¾Ğ²)                  â”‚   â”‚
â”‚ â”‚ 14:00 â”‚ â†’ Ğ¡Ğ°Ğ¹Ñ‚: Main WordPress + Guest (site2.ru)           â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚ Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ ÑÑ‚Ğ°Ñ‚ÑŒÑ: "Luxury Yacht Charter"                             â”‚
â”‚ Ğ”Ğ°Ñ‚Ğ°: [9 Ğ¼Ğ°Ñ€Ñ‚Ğ° 2026 â–¼] Ğ’Ñ€ĞµĞ¼Ñ: [15:00 â–¼]                           â”‚
â”‚ ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ: â˜‘ Main WP  â˜‘ Guest: [site1.com â–¼]                     â”‚
â”‚                                                                     â”‚
â”‚ [ğŸš€ Auto-schedule next 5] [ğŸ“¤ Export batch MD/ZIP]                 â”‚
â”‚ [â†©ï¸ New article] [âœ… Save to calendar]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸:**
- **Component:** React Big Calendar or @dnd-kit/core
- **API:** POST /api/calendar/events (existing)
- **Auto-queue:** Algorithm to distribute 5-20 articles across 2-4 weeks

---


## ğŸ›  Ğ¢Ğ•Ğ¥ĞĞ˜Ğ§Ğ•Ğ¡ĞšĞĞ¯ Ğ Ğ•ĞĞ›Ğ˜Ğ—ĞĞ¦Ğ˜Ğ¯

### 1. Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Next.js

```
calendar-app/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ seo-writer/
â”‚   â”‚   â”œâ”€â”€ page.tsx                 # Main Wizard UI
â”‚   â”‚   â”œâ”€â”€ layout.tsx               # Header with budget
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚       â”œâ”€â”€ Step1ClusterSelect.tsx
â”‚   â”‚       â”œâ”€â”€ Step2SerpAnalysis.tsx
â”‚   â”‚       â”œâ”€â”€ Step3OutlineGen.tsx
â”‚   â”‚       â”œâ”€â”€ Step4SectionWriter.tsx
â”‚   â”‚       â”œâ”€â”€ Step5Optimization.tsx
â”‚   â”‚       â””â”€â”€ Step6Calendar.tsx
â”‚   â”‚
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ seo-writer/
â”‚           â”œâ”€â”€ serp-analysis/
â”‚           â”‚   â””â”€â”€ route.ts         # SERP API
â”‚           â”œâ”€â”€ generate-outline/
â”‚           â”‚   â””â”€â”€ route.ts         # Qwen outline
â”‚           â”œâ”€â”€ generate-sections/
â”‚           â”‚   â””â”€â”€ route.ts         # Qwen batch sections
â”‚           â”œâ”€â”€ optimize/
â”‚           â”‚   â””â”€â”€ route.ts         # SEO check + takeaways
â”‚           â””â”€â”€ session/
â”‚               â””â”€â”€ route.ts         # Save/load session
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ qwen/
â”‚   â”‚   â”œâ”€â”€ client.ts                # Qwen API client
â”‚   â”‚   â”œâ”€â”€ prompts.ts               # Prompt templates
â”‚   â”‚   â””â”€â”€ types.ts                 # TypeScript types
â”‚   â”‚
â”‚   â”œâ”€â”€ dataforseo/
â”‚   â”‚   â””â”€â”€ serp-helper.ts           # Extend existing client
â”‚   â”‚
â”‚   â””â”€â”€ seo-analyzer/
â”‚       â”œâ”€â”€ keyword-density.ts       # KW analysis
â”‚       â”œâ”€â”€ readability.ts           # Flesch score
â”‚       â””â”€â”€ structure.ts             # H2/H3 count
â”‚
â””â”€â”€ components/
    â”œâ”€â”€ WizardProgress.tsx           # Progress bar
    â”œâ”€â”€ BudgetTracker.tsx            # Real-time budget
    â”œâ”€â”€ MarkdownEditor.tsx           # Outline editor
    â””â”€â”€ SectionPreview.tsx           # Live preview
```

---

### 2. Database Schema (PostgreSQL)

```sql
-- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ´Ğ»Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ ÑĞµÑÑĞ¸Ğ¹ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ÑÑ‚Ğ°Ñ‚ĞµĞ¹
CREATE TABLE article_generation_sessions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  cluster_id UUID REFERENCES seo_semantic_clusters(id),
  
  -- Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞµÑÑĞ¸Ğ¸
  article_type VARCHAR(20) CHECK (article_type IN ('pillar', 'sub', 'parasite')),
  locale VARCHAR(5) DEFAULT 'ru',
  tone VARCHAR(50) DEFAULT 'professional',
  
  -- ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ
  current_step INTEGER DEFAULT 1 CHECK (current_step BETWEEN 1 AND 6),
  status VARCHAR(20) DEFAULT 'draft' CHECK (status IN ('draft', 'generating', 'completed', 'failed')),
  
  -- Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
  serp_data JSONB,                   -- SERP analysis results
  outline TEXT,                      -- Markdown outline
  sections JSONB,                    -- Array of {title, content}
  full_article TEXT,                 -- Final assembled article
  seo_metrics JSONB,                 -- {wordCount, kwDensity, readability, h2Count, h3Count}
  key_takeaways TEXT[],              -- Array of bullet points
  
  -- Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ
  qwen_cost DECIMAL(10,4) DEFAULT 0,
  dfseo_cost DECIMAL(10,4) DEFAULT 0,
  total_cost DECIMAL(10,4) DEFAULT 0,
  
  -- Timestamps
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  completed_at TIMESTAMPTZ
);

-- Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹
CREATE INDEX idx_sessions_user ON article_generation_sessions(user_id);
CREATE INDEX idx_sessions_cluster ON article_generation_sessions(cluster_id);
CREATE INDEX idx_sessions_status ON article_generation_sessions(status);

-- Ğ¢Ñ€Ğ¸Ğ³Ğ³ĞµÑ€ Ğ´Ğ»Ñ auto-update updated_at
CREATE TRIGGER update_sessions_updated_at
  BEFORE UPDATE ON article_generation_sessions
  FOR EACH ROW
  EXECUTE FUNCTION update_updated_at_column();

-- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ñ… ÑÑ‚Ğ°Ñ‚ĞµĞ¹ (ÑĞ²ÑĞ·ÑŒ Ñ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ĞµĞ¼)
CREATE TABLE generated_articles (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  session_id UUID REFERENCES article_generation_sessions(id) ON DELETE CASCADE,
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  
  -- ĞšĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚
  title VARCHAR(500) NOT NULL,
  content TEXT NOT NULL,
  format VARCHAR(20) DEFAULT 'markdown' CHECK (format IN ('markdown', 'html', 'json')),
  word_count INTEGER,
  
  -- ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
  primary_keyword VARCHAR(255),
  target_url VARCHAR(500),
  meta_description TEXT,
  
  -- ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
  scheduled_at TIMESTAMPTZ,
  published_at TIMESTAMPTZ,
  publish_targets JSONB,             -- [{platform: 'wordpress', url: '...'}]
  
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_articles_user ON generated_articles(user_id);
CREATE INDEX idx_articles_scheduled ON generated_articles(scheduled_at);
```

---

### 3. Qwen API Integration

#### lib/qwen/client.ts

```typescript
/**
 * Qwen API Client for content generation
 * Official docs: https://help.aliyun.com/zh/dashscope/
 */

export interface QwenMessage {
  role: 'system' | 'user' | 'assistant';
  content: string;
}

export interface QwenGenerateOptions {
  model?: 'qwen-turbo' | 'qwen-plus' | 'qwen-max';
  temperature?: number;
  top_p?: number;
  max_tokens?: number;
  stream?: boolean;
}

export interface QwenResponse {
  output: {
    text: string;
    finish_reason: string;
  };
  usage: {
    input_tokens: number;
    output_tokens: number;
    total_tokens: number;
  };
  request_id: string;
}

export class QwenClient {
  private apiKey: string;
  private baseUrl = 'https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation';
  
  // Ğ¦ĞµĞ½Ñ‹ Ğ·Ğ° 1k tokens (Ğ² USD)
  private pricing = {
    'qwen-turbo': { input: 0.0008, output: 0.002 },
    'qwen-plus': { input: 0.002, output: 0.006 },
    'qwen-max': { input: 0.02, output: 0.06 },
  };

  constructor() {
    const key = process.env.QWEN_API_KEY || process.env.DASHSCOPE_API_KEY;
    if (!key) {
      throw new Error('QWEN_API_KEY not found in environment variables');
    }
    this.apiKey = key;
  }

  /**
   * Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ñ‚ĞµĞºÑÑ‚Ğ° Ñ‡ĞµÑ€ĞµĞ· Qwen API
   */
  async generate(
    messages: QwenMessage[],
    options: QwenGenerateOptions = {}
  ): Promise<{ text: string; cost: number; usage: any }> {
    const model = options.model || 'qwen-turbo';
    
    const response = await fetch(this.baseUrl, {
      method: 'POST',
      headers: {
        'Authorization': Bearer ,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        model,
        input: { messages },
        parameters: {
          result_format: 'message',
          temperature: options.temperature ?? 0.3,
          top_p: options.top_p ?? 0.8,
          max_tokens: options.max_tokens ?? 2000,
        },
      }),
    });

    if (!response.ok) {
      const error = await response.json();
      throw new Error(Qwen API Error: );
    }

    const data = await response.json();
    
    // Ğ Ğ°ÑÑ‡ĞµÑ‚ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
    const cost = this.calculateCost(
      data.usage.input_tokens,
      data.usage.output_tokens,
      model
    );

    return {
      text: data.output.choices[0].message.content,
      cost,
      usage: data.usage,
    };
  }

  /**
   * Streaming Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ (Server-Sent Events)
   */
  async *generateStream(
    messages: QwenMessage[],
    options: QwenGenerateOptions = {}
  ): AsyncGenerator<string> {
    const model = options.model || 'qwen-turbo';
    
    const response = await fetch(this.baseUrl, {
      method: 'POST',
      headers: {
        'Authorization': Bearer ,
        'Content-Type': 'application/json',
        'Accept': 'text/event-stream',
        'X-DashScope-SSE': 'enable',
      },
      body: JSON.stringify({
        model,
        input: { messages },
        parameters: {
          result_format: 'message',
          temperature: options.temperature ?? 0.3,
          top_p: options.top_p ?? 0.8,
          max_tokens: options.max_tokens ?? 2000,
          incremental_output: true,
        },
      }),
    });

    if (!response.ok) {
      throw new Error(Qwen Stream Error: );
    }

    const reader = response.body?.getReader();
    const decoder = new TextDecoder();

    if (!reader) return;

    while (true) {
      const { done, value } = await reader.read();
      if (done) break;

      const chunk = decoder.decode(value);
      const lines = chunk.split('\n');

      for (const line of lines) {
        if (line.startsWith('data:')) {
          try {
            const json = JSON.parse(line.slice(5));
            if (json.output?.choices?.[0]?.message?.content) {
              yield json.output.choices[0].message.content;
            }
          } catch (e) {
            // Skip invalid JSON
          }
        }
      }
    }
  }

  /**
   * Ğ Ğ°ÑÑ‡ĞµÑ‚ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
   */
  private calculateCost(
    inputTokens: number,
    outputTokens: number,
    model: string
  ): number {
    const prices = this.pricing[model as keyof typeof this.pricing];
    if (!prices) return 0;

    return (
      (inputTokens / 1000) * prices.input +
      (outputTokens / 1000) * prices.output
    );
  }

  /**
   * Batch Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ (Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ¾)
   */
  async generateBatch(
    requests: Array<{ messages: QwenMessage[]; options?: QwenGenerateOptions }>
  ): Promise<Array<{ text: string; cost: number }>> {
    const promises = requests.map((req) =>
      this.generate(req.messages, req.options)
    );

    return Promise.all(promises);
  }
}

// Singleton instance
let qwenClient: QwenClient | null = null;

export function getQwenClient(): QwenClient {
  if (!qwenClient) {
    qwenClient = new QwenClient();
  }
  return qwenClient;
}
```

#### lib/qwen/prompts.ts

```typescript
/**
 * Prompt templates for article generation
 */

export interface SerpInsights {
  avgWordCount: number;
  topTopics: string[];
  commonFormats: string[];
  intent: 'commercial' | 'informational' | 'mixed';
}

export const PROMPTS = {
  /**
   * Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ outline Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ SERP
   */
  generateOutline: (
    primaryKW: string,
    serpInsights: SerpInsights,
    locale: string = 'ru'
  ) => Ğ¢Ñ‹ â€” Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ SEO-ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ°Ğ¹Ñ‚ĞµÑ€. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸ (outline) Ğ´Ğ»Ñ ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ğ²Ğ° "".

SERP Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ»:
- Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ Ğ´Ğ»Ğ¸Ğ½Ğ° Ñ‚Ğ¾Ğ¿-ÑÑ‚Ğ°Ñ‚ĞµĞ¹:  ÑĞ»Ğ¾Ğ²
- ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ñ‚ĞµĞ¼Ñ‹: 
- Ğ Ğ°ÑĞ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ĞµĞ½Ğ½Ñ‹Ğµ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ‹: 
- Intent: 

Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğº ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğµ:
1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ 4-6 Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¾Ğ² (H2)
2. Ğ”Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ H2 Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒ 2-4 Ğ¿Ğ¾Ğ´Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ° (H3)
3. Ğ’ĞºĞ»ÑÑ‡Ğ¸ ÑĞµĞºÑ†Ğ¸Ñ FAQ Ğ² ĞºĞ¾Ğ½Ñ†Ğµ
4. Ğ£Ñ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°Ğ¹  Ğ¸Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
5. Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°: Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Markdown ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ±ĞµĞ· Ñ‚ĞµĞºÑÑ‚Ğ°

Ğ¯Ğ·Ñ‹Ğº: 

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ°:
## 1. Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ°
### 1.1 ĞŸĞ¾Ğ´Ñ€Ğ°Ğ·Ğ´ĞµĞ»
### 1.2 ĞŸĞ¾Ğ´Ñ€Ğ°Ğ·Ğ´ĞµĞ»

## 2. Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·Ğ´ĞµĞ»
...,

  /**
   * ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ÑĞµĞºÑ†Ğ¸Ğ¸
   */
  writeSection: (
    sectionTitle: string,
    primaryKW: string,
    serpData: string,
    wordTarget: number = 400
  ) => ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ Ñ€Ğ°Ğ·Ğ´ĞµĞ» "" Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸ Ğ¾ "".

Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· SERP Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°:


Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:
- ĞĞ±ÑŠĞµĞ¼: Â±100 ÑĞ»Ğ¾Ğ²
- Ğ¡Ñ‚Ğ¸Ğ»ÑŒ: Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹, scannable (ÑĞ¿Ğ¸ÑĞºĞ¸, bold Ğ´Ğ»Ñ Ğ²Ğ°Ğ¶Ğ½Ğ¾Ğ³Ğ¾)
- Ğ’ĞºĞ»ÑÑ‡Ğ¸ 1-2 ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ° Ğ¸Ğ»Ğ¸ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ¿Ğ¾Ğ´Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸ H3 ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾
- Ğ•ÑÑ‚ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€ÑƒĞ¹ ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ ÑĞ»Ğ¾Ğ²Ğ¾ 1-2 Ñ€Ğ°Ğ·Ğ°
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: Markdown

Ğ’Ğ°Ğ¶Ğ½Ğ¾: Ğ¿Ğ¸ÑˆĞ¸ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‚ĞµĞºÑÑ‚ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ°, Ğ±ĞµĞ· Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ° ÑĞ°Ğ¼Ğ¾Ğ¹ ÑĞµĞºÑ†Ğ¸Ğ¸ (Ğ¾Ğ½ Ğ±ÑƒĞ´ĞµÑ‚ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸).,

  /**
   * Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Key Takeaways
   */
  generateTakeaways: (articleText: string, primaryKW: string) => ĞĞ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¹ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ¹ 5-8 ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… Ñ‚ĞµĞ·Ğ¸ÑĞ¾Ğ² (key takeaways):

... [truncated]

Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:
- ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ‚ĞµĞ·Ğ¸Ñ â€” Ğ¾Ğ´Ğ½Ğ¾ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
- Ğ¤Ğ¾ĞºÑƒÑ Ğ½Ğ° Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: Ğ¼Ğ°Ñ€ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº
- Ğ£Ğ¿Ğ¾Ğ¼ÑĞ½Ğ¸ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½ÑƒÑ Ñ‚ĞµĞ¼Ñƒ ""

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:
â€¢ Luxury yacht charter â€” Ñ€Ğ°ÑÑ‚ÑƒÑ‰Ğ¸Ğ¹ Ñ€Ñ‹Ğ½Ğ¾Ğº Ñ +18% Ğ² 2026
â€¢ Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: â‚¬10k-50k/Ğ½ĞµĞ´ĞµĞ»Ñ
...,

  /**
   * SERP Insights Summary (Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·)
   */
  analyzeSerpResults: (serpResults: any[]) => ĞŸÑ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞ¹ Ñ‚Ğ¾Ğ¿-3 Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ° SERP Ğ¸ Ğ²Ñ‹Ğ´Ğ°Ğ¹ ĞºÑ€Ğ°Ñ‚ĞºĞ¸Ğµ insights:



Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:
- 3-5 bullet points
- Ğ¤Ğ¾ĞºÑƒÑ: Ğ´Ğ»Ğ¸Ğ½Ğ° ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°, Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚, ĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¸Ğ¹ vs Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµĞ½Ñ‚
- Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸

Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: Ğ¼Ğ°Ñ€ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ±ĞµĞ· Ğ»Ğ¸ÑˆĞ½ĞµĞ³Ğ¾ Ñ‚ĞµĞºÑÑ‚Ğ°.,
};
```

---

### 4. API Routes Implementation

#### app/api/seo-writer/generate-outline/route.ts

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { getQwenClient } from '@/lib/qwen/client';
import { PROMPTS } from '@/lib/qwen/prompts';
import { createClient } from '@/lib/db/client';

export async function POST(req: NextRequest) {
  try {
    const { sessionId, clusterId, serpInsights } = await req.json();

    // ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ°
    const supabase = createClient();
    const { data: cluster } = await supabase
      .from('seo_semantic_clusters')
      .select('name, primary_keyword, keywords')
      .eq('id', clusterId)
      .single();

    if (!cluster) {
      return NextResponse.json({ error: 'Cluster not found' }, { status: 404 });
    }

    // Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµĞ¼ outline Ñ‡ĞµÑ€ĞµĞ· Qwen
    const qwen = getQwenClient();
    const { text: outline, cost } = await qwen.generate(
      [
        { role: 'system', content: 'Ğ¢Ñ‹ â€” SEO-ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ°Ğ¹Ñ‚ĞµÑ€.' },
        {
          role: 'user',
          content: PROMPTS.generateOutline(
            cluster.primary_keyword,
            serpInsights,
            'ru'
          ),
        },
      ],
      { max_tokens: 1000, temperature: 0.4 }
    );

    // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ² ÑĞµÑÑĞ¸Ñ
    await supabase
      .from('article_generation_sessions')
      .update({
        outline,
        current_step: 3,
        qwen_cost: cost,
        updated_at: new Date().toISOString(),
      })
      .eq('id', sessionId);

    return NextResponse.json({
      outline,
      cost,
      estimatedWords: estimateWordsFromOutline(outline),
    });
  } catch (error: any) {
    console.error('Generate outline error:', error);
    return NextResponse.json(
      { error: error.message || 'Failed to generate outline' },
      { status: 500 }
    );
  }
}

// Helper: estimate word count from H2/H3 structure
function estimateWordsFromOutline(outline: string): number {
  const h2Count = (outline.match(/^## /gm) || []).length;
  const h3Count = (outline.match(/^### /gm) || []).length;
  
  // Heuristic: ~400 words per H2, ~200 per H3
  return h2Count * 400 + h3Count * 100;
}
```

#### app/api/seo-writer/generate-sections/route.ts

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { getQwenClient } from '@/lib/qwen/client';
import { PROMPTS } from '@/lib/qwen/prompts';
import { createClient } from '@/lib/db/client';

export async function POST(req: NextRequest) {
  try {
    const { sessionId, outline, primaryKW, serpData } = await req.json();

    // Parse outline to sections
    const sections = parseOutlineToSections(outline);

    // Batch generate all sections in parallel
    const qwen = getQwenClient();
    const results = await qwen.generateBatch(
      sections.map((section) => ({
        messages: [
          { role: 'system', content: 'Ğ¢Ñ‹ â€” SEO-ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ°Ğ¹Ñ‚ĞµÑ€.' },
          {
            role: 'user',
            content: PROMPTS.writeSection(
              section.title,
              primaryKW,
              JSON.stringify(serpData.slice(0, 3)),
              section.wordTarget
            ),
          },
        ],
        options: { max_tokens: 800, temperature: 0.5 },
      }))
    );

    // Assemble sections with headers
    const generatedSections = sections.map((section, i) => ({
      title: section.title,
      content: results[i].text,
      wordCount: countWords(results[i].text),
    }));

    // Assemble full article
    const fullArticle = generatedSections
      .map((s) => ## \n\n)
      .join('\n\n');

    const totalCost = results.reduce((sum, r) => sum + r.cost, 0);

    // Save to session
    const supabase = createClient();
    await supabase
      .from('article_generation_sessions')
      .update({
        sections: generatedSections,
        full_article: fullArticle,
        current_step: 4,
        qwen_cost: totalCost,
        updated_at: new Date().toISOString(),
      })
      .eq('id', sessionId);

    return NextResponse.json({
      sections: generatedSections,
      fullArticle,
      totalCost,
      totalWords: generatedSections.reduce((sum, s) => sum + s.wordCount, 0),
    });
  } catch (error: any) {
    console.error('Generate sections error:', error);
    return NextResponse.json({ error: error.message }, { status: 500 });
  }
}

// Parse Markdown outline to array of sections
function parseOutlineToSections(outline: string): Array<{
  title: string;
  level: number;
  wordTarget: number;
}> {
  const lines = outline.split('\n');
  const sections: any[] = [];

  lines.forEach((line) => {
    if (line.startsWith('## ')) {
      sections.push({
        title: line.replace('## ', '').replace(/^\d+\.\s*/, ''),
        level: 2,
        wordTarget: 450,
      });
    } else if (line.startsWith('### ')) {
      sections.push({
        title: line.replace('### ', '').replace(/^\d+\.\d+\s*/, ''),
        level: 3,
        wordTarget: 250,
      });
    }
  });

  return sections;
}

function countWords(text: string): number {
  return text.split(/\s+/).filter((w) => w.length > 0).length;
}
```

---


#### app/api/seo-writer/serp-analysis/route.ts

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { getDataForSeoClient } from '@/lib/dataforseo/client';
import { getQwenClient } from '@/lib/qwen/client';
import { PROMPTS } from '@/lib/qwen/prompts';
import { createClient } from '@/lib/db/client';

export async function POST(req: NextRequest) {
  try {
    const { sessionId, clusterId, topKeywords } = await req.json();

    const supabase = createClient();
    
    // ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ñ‚Ğ¾Ğ¿-3 ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… ÑĞ»Ğ¾Ğ²Ğ° ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ°
    const { data: cluster } = await supabase
      .from('seo_semantic_clusters')
      .select('keywords')
      .eq('id', clusterId)
      .single();

    const keywords = topKeywords || cluster.keywords.slice(0, 3);

    // DataForSEO SERP analysis
    const dfsClient = getDataForSeoClient();
    const serpPromises = keywords.map((kw: string) =>
      dfsClient.getSerpAnalysis({
        keyword: kw,
        language_code: 'ru',
        location_code: 2643, // Russia
        depth: 10,
      })
    );

    const serpResults = await Promise.all(serpPromises);

    // Extract top-3 organic results for each keyword
    const topResults = serpResults.map((result, i) => ({
      keyword: keywords[i],
      top3: result.tasks?.[0]?.result?.[0]?.items
        ?.filter((item: any) => item.type === 'organic')
        .slice(0, 3)
        .map((item: any) => ({
          rank: item.rank_group,
          domain: item.domain,
          title: item.title,
          url: item.url,
          description: item.description,
          // Estimate word count from description (heuristic)
          estimatedWords: estimateWordCount(item.description),
        })) || [],
    }));

    // Calculate SERP insights
    const allTop3 = topResults.flatMap((r) => r.top3);
    const avgWords = Math.round(
      allTop3.reduce((sum, r) => sum + r.estimatedWords, 0) / allTop3.length
    );

    const serpInsights = {
      avgWordCount: avgWords * 10, // Scale up (description is ~1/10 of full)
      topDomains: [...new Set(allTop3.map((r) => r.domain))].slice(0, 5),
      intent: detectIntent(allTop3),
    };

    // Generate AI insights summary
    const qwen = getQwenClient();
    const { text: aiInsights, cost: qwenCost } = await qwen.generate(
      [
        { role: 'system', content: 'Ğ¢Ñ‹ â€” SEO Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸Ğº.' },
        { role: 'user', content: PROMPTS.analyzeSerpResults(allTop3) },
      ],
      { max_tokens: 300, temperature: 0.3 }
    );

    // Calculate DataForSEO cost (standard queue: .003 per task)
    const dfsCost = serpResults.length * 0.003;

    // Save to session
    await supabase
      .from('article_generation_sessions')
      .update({
        serp_data: { topResults, serpInsights, aiInsights },
        current_step: 2,
        dfseo_cost: dfsCost,
        qwen_cost: qwenCost,
        total_cost: dfsCost + qwenCost,
        updated_at: new Date().toISOString(),
      })
      .eq('id', sessionId);

    return NextResponse.json({
      topResults,
      serpInsights,
      aiInsights,
      cost: { dataForSeo: dfsCost, qwen: qwenCost, total: dfsCost + qwenCost },
    });
  } catch (error: any) {
    console.error('SERP analysis error:', error);
    return NextResponse.json({ error: error.message }, { status: 500 });
  }
}

// Helpers
function estimateWordCount(text: string): number {
  if (!text) return 0;
  return text.split(/\s+/).length;
}

function detectIntent(results: any[]): 'commercial' | 'informational' | 'mixed' {
  const commercialKeywords = ['price', 'buy', 'rent', 'booking', 'order', 'Ñ†ĞµĞ½Ğ°', 'ĞºÑƒĞ¿Ğ¸Ñ‚ÑŒ', 'Ğ°Ñ€ĞµĞ½Ğ´Ğ°'];
  const commercialCount = results.filter((r) =>
    commercialKeywords.some((kw) =>
      (r.title + r.description).toLowerCase().includes(kw)
    )
  ).length;

  const ratio = commercialCount / results.length;
  if (ratio > 0.6) return 'commercial';
  if (ratio < 0.3) return 'informational';
  return 'mixed';
}
```

#### app/api/seo-writer/optimize/route.ts

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { getQwenClient } from '@/lib/qwen/client';
import { PROMPTS } from '@/lib/qwen/prompts';
import { analyzeSEO } from '@/lib/seo-analyzer/keyword-density';
import { calculateReadability } from '@/lib/seo-analyzer/readability';
import { createClient } from '@/lib/db/client';

export async function POST(req: NextRequest) {
  try {
    const { sessionId, fullArticle, primaryKW } = await req.json();

    // SEO Analysis (client-side logic)
    const seoMetrics = {
      wordCount: countWords(fullArticle),
      kwDensity: analyzeSEO(fullArticle, primaryKW),
      readability: calculateReadability(fullArticle),
      h2Count: (fullArticle.match(/^## /gm) || []).length,
      h3Count: (fullArticle.match(/^### /gm) || []).length,
      internalLinks: (fullArticle.match(/\[.*?\]\(.*?\)/g) || []).length,
    };

    // Generate Key Takeaways via Qwen
    const qwen = getQwenClient();
    const { text: takeawaysText, cost } = await qwen.generate(
      [
        { role: 'system', content: 'Ğ¢Ñ‹ â€” Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¾Ñ€ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°.' },
        { role: 'user', content: PROMPTS.generateTakeaways(fullArticle, primaryKW) },
      ],
      { max_tokens: 400, temperature: 0.4 }
    );

    const keyTakeaways = takeawaysText
      .split('\n')
      .filter((line) => line.trim().startsWith('â€¢') || line.trim().startsWith('-'))
      .map((line) => line.replace(/^[â€¢\-]\s*/, '').trim());

    // Save to session
    const supabase = createClient();
    await supabase
      .from('article_generation_sessions')
      .update({
        seo_metrics: seoMetrics,
        key_takeaways: keyTakeaways,
        current_step: 5,
        qwen_cost: cost,
        status: 'completed',
        completed_at: new Date().toISOString(),
        updated_at: new Date().toISOString(),
      })
      .eq('id', sessionId);

    return NextResponse.json({
      seoMetrics,
      keyTakeaways,
      cost,
      recommendations: generateRecommendations(seoMetrics),
    });
  } catch (error: any) {
    console.error('Optimize error:', error);
    return NextResponse.json({ error: error.message }, { status: 500 });
  }
}

function countWords(text: string): number {
  return text.split(/\s+/).filter((w) => w.length > 0).length;
}

function generateRecommendations(metrics: any): string[] {
  const recs: string[] = [];
  
  if (metrics.kwDensity < 1.0) {
    recs.push('âš ï¸ KW Ğ¿Ğ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ğ½Ğ¸Ğ·ĞºĞ°Ñ - Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ ÑĞ»Ğ¾Ğ²Ğ¾ Ğ² 2-3 Ğ¼ĞµÑÑ‚Ğ°Ñ…');
  }
  if (metrics.kwDensity > 3.0) {
    recs.push('âš ï¸ KW Ğ¿Ğ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ğ²Ñ‹ÑĞ¾ĞºĞ°Ñ - ÑƒĞ¼ĞµĞ½ÑŒÑˆĞ¸Ñ‚Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ğ²Ğ°');
  }
  if (metrics.readability < 60) {
    recs.push('âš ï¸ ĞĞ¸Ğ·ĞºĞ°Ñ Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼Ğ¾ÑÑ‚ÑŒ - ÑƒĞ¿Ñ€Ğ¾ÑÑ‚Ğ¸Ñ‚Ğµ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ');
  }
  if (metrics.internalLinks === 0) {
    recs.push('ğŸ’¡ Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ 3-5 Ğ²Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ñ… ÑÑÑ‹Ğ»Ğ¾Ğº Ğ½Ğ° ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸');
  }
  if (metrics.h3Count < 8) {
    recs.push('ğŸ’¡ Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ H3 Ğ¿Ğ¾Ğ´Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¾Ğ² Ğ´Ğ»Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹');
  }
  
  if (recs.length === 0) {
    recs.push('âœ… Ğ¡Ñ‚Ğ°Ñ‚ÑŒÑ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ°, Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ° Ğº Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸');
  }
  
  return recs;
}
```

#### app/api/seo-writer/session/route.ts

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { createClient } from '@/lib/db/client';

// GET: Load existing session
export async function GET(req: NextRequest) {
  try {
    const { searchParams } = new URL(req.url);
    const sessionId = searchParams.get('id');

    const supabase = createClient();
    const { data: session, error } = await supabase
      .from('article_generation_sessions')
      .select('*')
      .eq('id', sessionId)
      .single();

    if (error) {
      return NextResponse.json({ error: error.message }, { status: 404 });
    }

    return NextResponse.json({ session });
  } catch (error: any) {
    return NextResponse.json({ error: error.message }, { status: 500 });
  }
}

// POST: Create new session
export async function POST(req: NextRequest) {
  try {
    const { userId, clusterId, articleType, locale, tone } = await req.json();

    const supabase = createClient();
    const { data: session, error } = await supabase
      .from('article_generation_sessions')
      .insert({
        user_id: userId,
        cluster_id: clusterId,
        article_type: articleType || 'pillar',
        locale: locale || 'ru',
        tone: tone || 'professional',
        current_step: 1,
        status: 'draft',
      })
      .select()
      .single();

    if (error) {
      return NextResponse.json({ error: error.message }, { status: 500 });
    }

    return NextResponse.json({ session });
  } catch (error: any) {
    return NextResponse.json({ error: error.message }, { status: 500 });
  }
}

// PATCH: Update session
export async function PATCH(req: NextRequest) {
  try {
    const { sessionId, ...updates } = await req.json();

    const supabase = createClient();
    const { data: session, error } = await supabase
      .from('article_generation_sessions')
      .update({ ...updates, updated_at: new Date().toISOString() })
      .eq('id', sessionId)
      .select()
      .single();

    if (error) {
      return NextResponse.json({ error: error.message }, { status: 500 });
    }

    return NextResponse.json({ session });
  } catch (error: any) {
    return NextResponse.json({ error: error.message }, { status: 500 });
  }
}
```

---

### 5. SEO Analyzer Utilities

#### lib/seo-analyzer/keyword-density.ts

```typescript
/**
 * Calculate keyword density in text
 */
export function analyzeSEO(text: string, keyword: string): number {
  const cleanText = text.toLowerCase().replace(/[^a-zĞ°-ÑÑ‘0-9\s]/gi, ' ');
  const words = cleanText.split(/\s+/).filter((w) => w.length > 0);
  
  const keywordLower = keyword.toLowerCase();
  const keywordWords = keywordLower.split(/\s+/);
  
  let count = 0;
  
  // Exact match
  if (keywordWords.length === 1) {
    count = words.filter((w) => w === keywordLower).length;
  } else {
    // Multi-word keyword
    for (let i = 0; i <= words.length - keywordWords.length; i++) {
      const phrase = words.slice(i, i + keywordWords.length).join(' ');
      if (phrase === keywordLower) count++;
    }
  }
  
  const density = (count / words.length) * 100;
  return Math.round(density * 100) / 100; // Round to 2 decimals
}

/**
 * Check if keyword appears in important places
 */
export function checkKeywordPlacement(
  text: string,
  keyword: string
): {
  inTitle: boolean;
  inFirstParagraph: boolean;
  inHeaders: number;
} {
  const lines = text.split('\n');
  const firstPara = lines.slice(0, 5).join(' ').toLowerCase();
  
  const h1 = lines.find((l) => l.startsWith('# '))?.toLowerCase() || '';
  const headers = lines.filter((l) => l.match(/^#{2,3}\s/)).join(' ').toLowerCase();
  
  const kwLower = keyword.toLowerCase();
  
  return {
    inTitle: h1.includes(kwLower),
    inFirstParagraph: firstPara.includes(kwLower),
    inHeaders: (headers.match(new RegExp(kwLower, 'g')) || []).length,
  };
}
```

#### lib/seo-analyzer/readability.ts

```typescript
/**
 * Calculate Flesch Reading Ease score
 * Score: 0-100 (higher = easier to read)
 */
export function calculateReadability(text: string): number {
  const sentences = text.split(/[.!?]+/).filter((s) => s.trim().length > 0);
  const words = text.split(/\s+/).filter((w) => w.length > 0);
  const syllables = words.reduce((sum, word) => sum + countSyllables(word), 0);
  
  if (sentences.length === 0 || words.length === 0) return 0;
  
  const avgWordsPerSentence = words.length / sentences.length;
  const avgSyllablesPerWord = syllables / words.length;
  
  // Flesch formula (adapted for Russian)
  const score = 206.835 - 1.015 * avgWordsPerSentence - 84.6 * avgSyllablesPerWord;
  
  return Math.max(0, Math.min(100, Math.round(score)));
}

/**
 * Count syllables in a word (approximate for Russian/English)
 */
function countSyllables(word: string): number {
  word = word.toLowerCase();
  
  // Russian vowels
  const vowels = /[Ğ°ĞµÑ‘Ğ¸Ğ¾ÑƒÑ‹ÑÑÑaeiouy]/g;
  const matches = word.match(vowels);
  
  return matches ? matches.length : 1;
}

/**
 * Get readability interpretation
 */
export function getReadabilityLevel(score: number): string {
  if (score >= 80) return 'ĞÑ‡ĞµĞ½ÑŒ Ğ»ĞµĞ³ĞºĞ¾';
  if (score >= 70) return 'Ğ›ĞµĞ³ĞºĞ¾';
  if (score >= 60) return 'Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾';
  if (score >= 50) return 'Ğ¡Ñ€ĞµĞ´Ğ½Ğµ';
  if (score >= 30) return 'Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾';
  return 'ĞÑ‡ĞµĞ½ÑŒ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾';
}
```

---


### 6. React Components & Hooks

#### app/seo-writer/page.tsx (Main Wizard)

```typescript
'use client';

import { useState } from 'react';
import { useArticleFactory } from '@/hooks/useArticleFactory';
import WizardProgress from '@/components/WizardProgress';
import BudgetTracker from '@/components/BudgetTracker';
import Step1ClusterSelect from './components/Step1ClusterSelect';
import Step2SerpAnalysis from './components/Step2SerpAnalysis';
import Step3OutlineGen from './components/Step3OutlineGen';
import Step4SectionWriter from './components/Step4SectionWriter';
import Step5Optimization from './components/Step5Optimization';
import Step6Calendar from './components/Step6Calendar';

export default function SeoWriterPage() {
  const {
    currentStep,
    sessionData,
    goToStep,
    updateSession,
    budget,
    isLoading,
  } = useArticleFactory();

  const steps = [
    { number: 1, title: 'Ğ’Ñ‹Ğ±Ğ¾Ñ€ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ°', component: Step1ClusterSelect },
    { number: 2, title: 'SERP Analysis', component: Step2SerpAnalysis },
    { number: 3, title: 'Outline', component: Step3OutlineGen },
    { number: 4, title: 'ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ', component: Step4SectionWriter },
    { number: 5, title: 'ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ', component: Step5Optimization },
    { number: 6, title: 'ĞšĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ', component: Step6Calendar },
  ];

  const CurrentStepComponent = steps[currentStep - 1].component;

  return (
    <div className="min-h-screen bg-gray-50 p-6">
      {/* Header */}
      <div className="max-w-6xl mx-auto mb-6">
        <div className="bg-white rounded-lg shadow-sm p-4 flex items-center justify-between">
          <div>
            <h1 className="text-2xl font-bold text-gray-900">
              ğŸ¨ SEO Article Factory
            </h1>
            <p className="text-sm text-gray-500 mt-1">
              {sessionData?.cluster?.name || 'Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸'}
            </p>
          </div>
          
          <BudgetTracker
            qwenUsed={budget.qwen}
            qwenLimit={5.0}
            dfseoUsed={budget.dataforseo}
            dfseoLimit={42.0}
          />
        </div>
      </div>

      {/* Progress Bar */}
      <div className="max-w-6xl mx-auto mb-6">
        <WizardProgress
          steps={steps.map((s) => ({ number: s.number, title: s.title }))}
          currentStep={currentStep}
          onStepClick={(step) => step <= sessionData.current_step && goToStep(step)}
        />
      </div>

      {/* Main Content */}
      <div className="max-w-6xl mx-auto">
        <CurrentStepComponent
          sessionData={sessionData}
          onNext={() => goToStep(currentStep + 1)}
          onBack={() => goToStep(currentStep - 1)}
          updateSession={updateSession}
          isLoading={isLoading}
        />
      </div>
    </div>
  );
}
```

#### hooks/useArticleFactory.ts

```typescript
'use client';

import { useState, useEffect, useCallback } from 'react';
import { useSession } from 'next-auth/react';
import { createClient } from '@/lib/db/client';

export interface ArticleSessionData {
  id: string;
  cluster_id: string;
  cluster?: any;
  current_step: number;
  status: string;
  serp_data?: any;
  outline?: string;
  sections?: any[];
  full_article?: string;
  seo_metrics?: any;
  key_takeaways?: string[];
  qwen_cost: number;
  dfseo_cost: number;
  total_cost: number;
}

export function useArticleFactory(sessionId?: string) {
  const { data: authSession } = useSession();
  const [currentStep, setCurrentStep] = useState(1);
  const [sessionData, setSessionData] = useState<ArticleSessionData | null>(null);
  const [isLoading, setIsLoading] = useState(false);
  const [budget, setBudget] = useState({ qwen: 0, dataforseo: 0 });

  const supabase = createClient();

  // Load or create session
  useEffect(() => {
    if (!authSession?.user?.id) return;

    const loadSession = async () => {
      if (sessionId) {
        // Load existing session
        const { data } = await supabase
          .from('article_generation_sessions')
          .select('*, cluster:seo_semantic_clusters(*)')
          .eq('id', sessionId)
          .single();

        if (data) {
          setSessionData(data);
          setCurrentStep(data.current_step);
          setBudget({
            qwen: data.qwen_cost || 0,
            dataforseo: data.dfseo_cost || 0,
          });
        }
      }
    };

    loadSession();
  }, [sessionId, authSession]);

  // Real-time budget updates
  useEffect(() => {
    if (!sessionData?.id) return;

    const channel = supabase
      .channel('session_updates')
      .on(
        'postgres_changes',
        {
          event: 'UPDATE',
          schema: 'public',
          table: 'article_generation_sessions',
          filter: id=eq.,
        },
        (payload) => {
          setSessionData(payload.new as ArticleSessionData);
          setBudget({
            qwen: payload.new.qwen_cost || 0,
            dataforseo: payload.new.dfseo_cost || 0,
          });
        }
      )
      .subscribe();

    return () => {
      supabase.removeChannel(channel);
    };
  }, [sessionData?.id]);

  // Create new session
  const createSession = useCallback(
    async (clusterId: string, options: any = {}) => {
      setIsLoading(true);
      try {
        const response = await fetch('/api/seo-writer/session', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            userId: authSession?.user?.id,
            clusterId,
            ...options,
          }),
        });

        const { session } = await response.json();
        setSessionData(session);
        setCurrentStep(1);
        return session;
      } finally {
        setIsLoading(false);
      }
    },
    [authSession]
  );

  // Update session data
  const updateSession = useCallback(
    async (updates: Partial<ArticleSessionData>) => {
      if (!sessionData?.id) return;

      const response = await fetch('/api/seo-writer/session', {
        method: 'PATCH',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          sessionId: sessionData.id,
          ...updates,
        }),
      });

      const { session } = await response.json();
      setSessionData(session);
    },
    [sessionData?.id]
  );

  // Navigate to step
  const goToStep = useCallback((step: number) => {
    if (step >= 1 && step <= 6) {
      setCurrentStep(step);
    }
  }, []);

  return {
    currentStep,
    sessionData,
    isLoading,
    budget,
    createSession,
    updateSession,
    goToStep,
  };
}
```

#### app/seo-writer/components/Step2SerpAnalysis.tsx

```typescript
'use client';

import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Card } from '@/components/ui/card';

interface Props {
  sessionData: any;
  onNext: () => void;
  onBack: () => void;
  updateSession: (data: any) => Promise<void>;
  isLoading: boolean;
}

export default function Step2SerpAnalysis({
  sessionData,
  onNext,
  onBack,
  updateSession,
}: Props) {
  const [isAnalyzing, setIsAnalyzing] = useState(false);
  const [serpData, setSerpData] = useState(sessionData?.serp_data);

  const runSerpAnalysis = async () => {
    setIsAnalyzing(true);
    try {
      const response = await fetch('/api/seo-writer/serp-analysis', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          sessionId: sessionData.id,
          clusterId: sessionData.cluster_id,
        }),
      });

      const data = await response.json();
      setSerpData(data);
      await updateSession({ serp_data: data });
    } finally {
      setIsAnalyzing(false);
    }
  };

  return (
    <Card className="p-6">
      <h2 className="text-xl font-bold mb-4">
        ğŸ” Ğ¨ĞĞ“ 2/6: SERP Research
      </h2>

      <div className="mb-6">
        <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4">
          <h3 className="font-semibold text-blue-900 mb-2">
            ğŸ“Š ĞšĞ»Ğ°ÑÑ‚ĞµÑ€: {sessionData?.cluster?.name}
          </h3>
          <p className="text-sm text-blue-700">
            SV: {sessionData?.cluster?.total_sv?.toLocaleString()}/Ğ¼ĞµÑ | 
            KW: {sessionData?.cluster?.keywords?.length}
          </p>
        </div>

        {!serpData && (
          <Button
            onClick={runSerpAnalysis}
            disabled={isAnalyzing}
            className="w-full"
            size="lg"
          >
            {isAnalyzing ? 'ğŸ”„ ĞĞ½Ğ°Ğ»Ğ¸Ğ· SERP...' : 'â–¶ï¸ Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ SERP Analysis'}
          </Button>
        )}

        {serpData && (
          <div className="space-y-4">
            {/* Top Results Table */}
            <div className="bg-white border rounded-lg overflow-hidden">
              <table className="w-full">
                <thead className="bg-gray-50">
                  <tr>
                    <th className="px-4 py-2 text-left">Rank</th>
                    <th className="px-4 py-2 text-left">Domain</th>
                    <th className="px-4 py-2 text-left">Title</th>
                    <th className="px-4 py-2 text-left">Words</th>
                  </tr>
                </thead>
                <tbody>
                  {serpData.topResults?.[0]?.top3?.map((result: any, i: number) => (
                    <tr key={i} className="border-t">
                      <td className="px-4 py-2">#{result.rank}</td>
                      <td className="px-4 py-2 text-sm">{result.domain}</td>
                      <td className="px-4 py-2 text-sm">{result.title}</td>
                      <td className="px-4 py-2">{result.estimatedWords * 10}+</td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>

            {/* AI Insights */}
            <div className="bg-purple-50 border border-purple-200 rounded-lg p-4">
              <h4 className="font-semibold text-purple-900 mb-2">ğŸ¯ AI Insights</h4>
              <div className="prose prose-sm text-purple-800">
                {serpData.aiInsights}
              </div>
            </div>

            {/* Cost */}
            <div className="text-sm text-gray-500">
              Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: DataForSEO  + 
              Qwen  = 
              
            </div>
          </div>
        )}
      </div>

      <div className="flex justify-between mt-6">
        <Button onClick={onBack} variant="outline">
          â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´
        </Button>
        <Button onClick={onNext} disabled={!serpData}>
          â–¶ï¸ Generate Outline
        </Button>
      </div>
    </Card>
  );
}
```

#### app/seo-writer/components/Step4SectionWriter.tsx

```typescript
'use client';

import { useState, useEffect } from 'react';
import { Button } from '@/components/ui/button';
import { Card } from '@/components/ui/card';
import ReactMarkdown from 'react-markdown';

interface Props {
  sessionData: any;
  onNext: () => void;
  onBack: () => void;
  updateSession: (data: any) => Promise<void>;
}

export default function Step4SectionWriter({
  sessionData,
  onNext,
  onBack,
  updateSession,
}: Props) {
  const [isGenerating, setIsGenerating] = useState(false);
  const [progress, setProgress] = useState<any[]>([]);
  const [sections, setSections] = useState(sessionData?.sections || []);

  const generateSections = async () => {
    setIsGenerating(true);
    setProgress([]);

    try {
      const response = await fetch('/api/seo-writer/generate-sections', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          sessionId: sessionData.id,
          outline: sessionData.outline,
          primaryKW: sessionData.cluster.primary_keyword,
          serpData: sessionData.serp_data?.topResults,
        }),
      });

      const data = await response.json();
      setSections(data.sections);
      await updateSession({ sections: data.sections, full_article: data.fullArticle });
    } finally {
      setIsGenerating(false);
    }
  };

  return (
    <Card className="p-6">
      <h2 className="text-xl font-bold mb-4">
        âœï¸ Ğ¨ĞĞ“ 4/6: ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸
      </h2>

      {!sections.length && (
        <Button
          onClick={generateSections}
          disabled={isGenerating}
          className="w-full"
          size="lg"
        >
          {isGenerating ? 'ğŸ”„ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ...' : 'â–¶ï¸ ĞĞ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑŒÑ'}
        </Button>
      )}

      {isGenerating && (
        <div className="mt-4 space-y-2">
          <div className="text-sm text-gray-600">Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑĞµĞºÑ†Ğ¸Ğ¹...</div>
          <div className="w-full bg-gray-200 rounded-full h-2">
            <div
              className="bg-blue-600 h-2 rounded-full transition-all"
              style={{ width: ${(progress.length / 5) * 100}% }}
            />
          </div>
        </div>
      )}

      {sections.length > 0 && (
        <div className="grid grid-cols-2 gap-6 mt-6">
          {/* Progress List */}
          <div className="space-y-2">
            <h3 className="font-semibold mb-2">Ğ¡ĞµĞºÑ†Ğ¸Ğ¸:</h3>
            {sections.map((section: any, i: number) => (
              <div
                key={i}
                className="flex items-center justify-between p-2 bg-green-50 border border-green-200 rounded"
              >
                <span className="text-sm">âœ… {section.title}</span>
                <span className="text-xs text-gray-500">{section.wordCount} ÑĞ»Ğ¾Ğ²</span>
              </div>
            ))}
          </div>

          {/* Live Preview */}
          <div className="border rounded-lg p-4 max-h-96 overflow-y-auto">
            <h3 className="font-semibold mb-4">ğŸ“„ ĞŸÑ€ĞµĞ´Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€</h3>
            <div className="prose prose-sm">
              <ReactMarkdown>
                {sections.map((s: any) => ## \n\n).join('\n\n')}
              </ReactMarkdown>
            </div>
          </div>
        </div>
      )}

      <div className="flex justify-between mt-6">
        <Button onClick={onBack} variant="outline">
          â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´
        </Button>
        <Button onClick={onNext} disabled={!sections.length}>
          â–¶ï¸ ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
        </Button>
      </div>
    </Card>
  );
}
```

---


#### C. Docker Deploy (Dokploy)

```dockerfile
# Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Dockerfile
ENV QWEN_API_KEY=${QWEN_API_KEY}
ENV DASHSCOPE_API_KEY=${DASHSCOPE_API_KEY}
```

```bash
# Ğ’ Dokploy Dashboard:
# Settings â†’ Environment â†’ Add:
QWEN_API_KEY=sk-xxx
DATAFORSEO_LOGIN=xxx
DATAFORSEO_PASSWORD=xxx

# Redeploy
dokploy deploy --force
```

---

### 12. Testing Plan

#### Manual Testing Checklist:

```markdown
- [ ] Step 1: Ğ’Ñ‹Ğ±Ğ¾Ñ€ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ÑÑ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾
- [ ] Step 2: SERP analysis Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ñ‚Ğ¾Ğ¿-3 Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°
- [ ] Step 2: AI insights Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒÑÑ‚ÑÑ (Qwen)
- [ ] Step 3: Outline Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ñ 4-6 H2
- [ ] Step 3: ĞœĞ¾Ğ¶Ğ½Ğ¾ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ outline inline
- [ ] Step 4: Ğ¡ĞµĞºÑ†Ğ¸Ğ¸ Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ¾
- [ ] Step 4: Live preview Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ Markdown
- [ ] Step 5: SEO metrics Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ (KW density, readability)
- [ ] Step 5: Key takeaways Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒÑÑ‚ÑÑ (5-8 Ğ¿ÑƒĞ½ĞºÑ‚Ğ¾Ğ²)
- [ ] Step 6: Ğ¡Ñ‚Ğ°Ñ‚ÑŒÑ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ² ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ
- [ ] Budget tracker Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
- [ ] Ğ¡ĞµÑÑĞ¸Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğµ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑˆĞ°Ğ³Ğ°Ğ¼Ğ¸
- [ ] Export MD/HTML Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
```

#### API Testing:

```bash
# Test Qwen connection
curl -X POST https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation \
  -H "Authorization: Bearer ${QWEN_API_KEY}" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "qwen-turbo",
    "input": {"messages": [{"role": "user", "content": "Test"}]},
    "parameters": {"max_tokens": 100}
  }'

# Test DataForSEO
curl -X GET https://api.dataforseo.com/v3/user_data \
  -u "${DATAFORSEO_LOGIN}:${DATAFORSEO_PASSWORD}"
```

---

### 13. Cost Estimation

#### Per Article (2,500 words):

| Service       | Operation           | Cost      | Notes                    |
|---------------|---------------------|-----------|--------------------------|
| DataForSEO    | 3x SERP analysis    | $0.009    | Standard queue           |
| Qwen          | Outline generation  | $0.05     | ~500 tokens              |
| Qwen          | 5 sections batch    | $0.15     | ~1500 tokens total       |
| Qwen          | Takeaways           | $0.03     | ~200 tokens              |
| **TOTAL**     |                     | **$0.24** | **Per article**          |

#### Monthly Budget (20 articles):

- **Articles:** 20 x $0.24 = $4.80
- **Buffer:** $1.20
- **Total:** $6.00/month

**ROI:**
- 20 ÑÑ‚Ğ°Ñ‚ĞµĞ¹ x 2500 ÑĞ»Ğ¾Ğ² = 50,000 ÑĞ»Ğ¾Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°
- Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ°Ğ¹Ñ‚ĞµÑ€Ğ°: ~$100-200 (Ñ€ÑƒÑ‡Ğ½Ğ¾Ğµ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ)
- **Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ: ~$195/Ğ¼ĞµÑÑÑ†**

---

### 14. Future Enhancements

**Phase 2 (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ):**

1. **Streaming Generation** (SSE)
   - Real-time preview ÑĞµĞºÑ†Ğ¸Ğ¹ Ğ¿Ğ¾ Ğ¼ĞµÑ€Ğµ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
   - WebSocket Ğ´Ğ»Ñ multi-user sessions

2. **Advanced SEO**
   - LSI keywords injection
   - Internal linking suggestions
   - Image alt-text generation

3. **Multi-language**
   - Auto-translate outline
   - Locale-specific SERP analysis

4. **Publishing Integration**
   - WordPress auto-publish API
   - Ghost CMS integration
   - Medium/LinkedIn cross-post

5. **Analytics**
   - Track generated articles performance
   - A/B testing headlines
   - SERP ranking monitoring

6. **AI Improvements**
   - Use Qwen-Max for better quality (higher cost)
   - Custom fine-tuned prompts per industry
   - Fact-checking integration

---

## ğŸ“š Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
calendar-app/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ seo-writer/
â”‚   â”‚   â”œâ”€â”€ page.tsx                     â† Main Wizard
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚       â”œâ”€â”€ Step1ClusterSelect.tsx
â”‚   â”‚       â”œâ”€â”€ Step2SerpAnalysis.tsx
â”‚   â”‚       â”œâ”€â”€ Step3OutlineGen.tsx
â”‚   â”‚       â”œâ”€â”€ Step4SectionWriter.tsx
â”‚   â”‚       â”œâ”€â”€ Step5Optimization.tsx
â”‚   â”‚       â””â”€â”€ Step6Calendar.tsx
â”‚   â”‚
â”‚   â””â”€â”€ api/seo-writer/
â”‚       â”œâ”€â”€ session/route.ts
â”‚       â”œâ”€â”€ serp-analysis/route.ts
â”‚       â”œâ”€â”€ generate-outline/route.ts
â”‚       â”œâ”€â”€ generate-sections/route.ts
â”‚       â””â”€â”€ optimize/route.ts
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ qwen/
â”‚   â”‚   â”œâ”€â”€ client.ts                    â† Qwen API integration
â”‚   â”‚   â”œâ”€â”€ prompts.ts                   â† Prompt templates
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”œâ”€â”€ dataforseo/
â”‚   â”‚   â””â”€â”€ serp-helper.ts
â”‚   â””â”€â”€ seo-analyzer/
â”‚       â”œâ”€â”€ keyword-density.ts
â”‚       â”œâ”€â”€ readability.ts
â”‚       â””â”€â”€ structure.ts
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ WizardProgress.tsx
â”‚   â”œâ”€â”€ BudgetTracker.tsx
â”‚   â””â”€â”€ SectionPreview.tsx
â”‚
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useArticleFactory.ts             â† Main state management
â”‚
â””â”€â”€ lib/db/
    â””â”€â”€ migrate-article-factory.sql      â† Database schema
```

---

## ğŸ¯ Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ğº Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

### âœ… Completed:
- [x] UI/UX Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½ Ğ²ÑĞµÑ… 6 ÑˆĞ°Ğ³Ğ¾Ğ²
- [x] Database schema (PostgreSQL)
- [x] API endpoints (5 routes)
- [x] Qwen API integration
- [x] DataForSEO SERP analysis
- [x] React components & hooks
- [x] SEO analyzer utilities
- [x] NPM dependencies list
- [x] Deployment instructions
- [x] Cost estimation

### ğŸ“¦ Ready for:
1. **Implementation:** ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ´ â†’ Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ â†’ Deploy
2. **Testing:** Ğ ÑƒÑ‡Ğ½Ğ¾Ğµ + API Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
3. **Production:** Vercel/Dokploy Ñ environment variables

### ğŸ’¡ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¿Ñ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°:
- **Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ:** 1-2 Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñ‹ Ğ½Ğ° ÑÑ‚Ğ°Ñ‚ÑŒÑ (vs 2-4 Ñ‡Ğ°ÑĞ° Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ)
- **Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ:** $0.24/ÑÑ‚Ğ°Ñ‚ÑŒÑ (vs $10-50 ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ°Ğ¹Ñ‚ĞµÑ€)
- **ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾:** SERP-Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚
- **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±:** 20+ ÑÑ‚Ğ°Ñ‚ĞµĞ¹/Ğ´ĞµĞ½ÑŒ Ğ±ĞµĞ· ÑƒÑĞ¸Ğ»Ğ¸Ğ¹

---

## ğŸ“ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°

**API Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ:**
- Qwen: https://help.aliyun.com/zh/dashscope/
- DataForSEO: https://docs.dataforseo.com/

**Troubleshooting:**
- Qwen errors â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ API key
- SERP Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹ â†’ Location code Ğ´Ğ»Ñ Ñ€ĞµĞ³Ğ¸Ğ¾Ğ½Ğ°
- Budget exceeded â†’ Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ñ‚ÑŒ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹ Ğ² env

**ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹:**
- GitHub Issues: [Ğ²Ğ°Ñˆ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹]/issues
- Email: support@yourproject.com

---

**Ğ’ĞµÑ€ÑĞ¸Ñ Ğ¿Ğ»Ğ°Ğ½Ğ°:** 1.0  
**Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ:** 2026-02-28  
**ĞĞ²Ñ‚Ğ¾Ñ€:** AI Agent (Rovo Dev)

