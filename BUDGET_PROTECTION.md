# üí∞ –ó–∞—â–∏—Ç–∞ –±—é–¥–∂–µ—Ç–∞ DataForSEO

## üõ°Ô∏è –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤

### –õ–∏–º–∏—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```typescript
maxCostPerRequest: $0.50    // –ù–µ –±–æ–ª—å—à–µ 50 —Ü–µ–Ω—Ç–æ–≤ –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å
maxDailyCost: $2.00         // –ù–µ –±–æ–ª—å—à–µ $2 –≤ –¥–µ–Ω—å
maxMonthlyCost: $20.00      // –ù–µ –±–æ–ª—å—à–µ $20 –≤ –º–µ—Å—è—Ü
maxKeywordsPerBatch: 100    // –ù–µ –±–æ–ª—å—à–µ 100 –∫–ª—é—á–µ–π –∑–∞ —Ä–∞–∑
alertThreshold: 80%         // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ 80% –ª–∏–º–∏—Ç–∞
```

---

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞—â–∏—Ç–∞:

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ü–ï–†–ï–î –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º
```typescript
// –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
‚úÖ –ù–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∞ –ª–∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞?
‚úÖ –ù–µ –ø—Ä–µ–≤—ã—à–µ–Ω–æ –ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π?
‚úÖ –ù–µ –∏—Å—á–µ—Ä–ø–∞–Ω –ª–∏ –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç?
‚úÖ –ù–µ –∏—Å—á–µ—Ä–ø–∞–Ω –ª–∏ –º–µ—Å—è—á–Ω—ã–π –ª–∏–º–∏—Ç?

‚ùå –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —É—Å–ª–æ–≤–∏–µ –ù–ï –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚Üí –∑–∞–ø—Ä–æ—Å –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø
```

### 2. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
```typescript
‚ö†Ô∏è –ü—Ä–∏ 80% –¥–Ω–µ–≤–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞ ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
‚ö†Ô∏è –ü—Ä–∏ 80% –º–µ—Å—è—á–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞ ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
```

### 3. –£—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤
```typescript
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:
‚úÖ –ó–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å
‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –¥–Ω–µ–≤–Ω–æ–π —Å—á–µ—Ç—á–∏–∫
‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Å—è—á–Ω—ã–π —Å—á–µ—Ç—á–∏–∫
‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î
```

---

## üìä –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:

### Keywords Data API (Google Ads)
```
Search Volume:           $0.05 per 1000 keywords
Keywords for Keywords:   $0.10 per 1000 keywords
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- 10 –∫–ª—é—á–µ–π ‚Üí $0.0005 (–ø–æ–ª —Ü–µ–Ω—Ç–∞)
- 100 –∫–ª—é—á–µ–π ‚Üí $0.005 (–ø–æ–ª –∫–æ–ø–µ–π–∫–∏)
- 1000 –∫–ª—é—á–µ–π ‚Üí $0.05 (5 —Ü–µ–Ω—Ç–æ–≤)

### SERP API
```
Organic Search: $0.60 per 1000 requests
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- 1 –∑–∞–ø—Ä–æ—Å ‚Üí $0.0006
- 10 –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí $0.006
- 100 –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí $0.06

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞ $42:

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –¢–æ–ª—å–∫–æ Keywords Data
```
–õ–∏–º–∏—Ç: $2/–¥–µ–Ω—å
–°—Ç–æ–∏–º–æ—Å—Ç—å: $0.05/1000 –∫–ª—é—á–µ–π

–í –¥–µ–Ω—å –º–æ–∂–Ω–æ: 2 / 0.05 * 1000 = 40,000 –∫–ª—é—á–µ–π
–ù–∞ $42 —Ö–≤–∞—Ç–∏—Ç: 42 / 0.05 * 1000 = 840,000 –∫–ª—é—á–µ–π
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: Keywords Data + SERP
```
–õ–∏–º–∏—Ç: $2/–¥–µ–Ω—å
Keywords: 1000 ($0.05)
SERP: 100 ($0.06)
–ò—Ç–æ–≥–æ: $0.11/–¥–µ–Ω—å

–ù–∞ $42 —Ö–≤–∞—Ç–∏—Ç: 42 / 0.11 = 382 –¥–Ω—è!
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏–º–∏—Ç–æ–≤:

### –í –∫–æ–¥–µ:
```typescript
import { getBudgetGuard } from '@/lib/dataforseo/budget-guard';

const guard = getBudgetGuard({
  maxDailyCost: 5.00,        // –£–≤–µ–ª–∏—á–∏—Ç—å –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç –¥–æ $5
  maxMonthlyCost: 50.00,     // –£–≤–µ–ª–∏—á–∏—Ç—å –º–µ—Å—è—á–Ω—ã–π –¥–æ $50
  maxKeywordsPerBatch: 500,  // –†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ 500 –∫–ª—é—á–µ–π –∑–∞ —Ä–∞–∑
});
```

### –ß–µ—Ä–µ–∑ UI (–±—É–¥—É—â–∞—è —Ñ–∏—á–∞):
```
Settings ‚Üí Budget Protection ‚Üí Edit Limits
```

---

## üö® –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏:

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç:
```
‚ùå –û—à–∏–±–∫–∞: –î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω
   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: $2.00 –∏–∑ $2.00
   –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≤—Ç—Ä–∞ –∏–ª–∏ —É–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç
```

### –í –ª–æ–≥–∞—Ö:
```
[BudgetGuard] Request blocked: Daily limit exceeded
[BudgetGuard] Used: $2.00, Limit: $2.00
```

### –ó–∞–ø—Ä–æ—Å –ù–ï –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ DataForSEO ‚Üí –¥–µ–Ω—å–≥–∏ –ù–ï —Å–ø–∏—à—É—Ç—Å—è

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞—Å—Ö–æ–¥–æ–≤:

### API endpoint:
```
GET /api/seo/budget/stats

Response:
{
  "today": {
    "used": 0.15,
    "limit": 2.00,
    "remaining": 1.85,
    "percent": 7.5
  },
  "month": {
    "used": 3.47,
    "limit": 20.00,
    "remaining": 16.53,
    "percent": 17.3
  },
  "totalRequests": 234
}
```

### UI –≤–∏–¥–∂–µ—Ç:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üí∞ Budget Usage         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Today:   $0.15 / $2.00  ‚îÇ
‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 7.5%   ‚îÇ
‚îÇ                         ‚îÇ
‚îÇ Month:   $3.47 / $20.00 ‚îÇ
‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 17.3%   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

### –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
```
–î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç: $2
–ú–µ—Å—è—á–Ω—ã–π –ª–∏–º–∏—Ç: $20
–ù–∞ $42 —Ö–≤–∞—Ç–∏—Ç –Ω–∞: ~2 –º–µ—Å—è—Ü–∞
```

### –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:
```
–î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç: $5
–ú–µ—Å—è—á–Ω—ã–π –ª–∏–º–∏—Ç: $50
–ù–∞ $42 —Ö–≤–∞—Ç–∏—Ç –Ω–∞: <1 –º–µ—Å—è—Ü–∞ (–Ω—É–∂–Ω–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ)
```

### –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):
```
–î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç: $0.50
–ú–µ—Å—è—á–Ω—ã–π –ª–∏–º–∏—Ç: $5
Batch –ª–∏–º–∏—Ç: 10 –∫–ª—é—á–µ–π
‚Üí –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫, –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
```

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å:

### –î–Ω–µ–≤–Ω–æ–π:
```
–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00 UTC:
‚úÖ todayCost = 0
‚úÖ –°—á–µ—Ç—á–∏–∫ –æ–±–Ω—É–ª–µ–Ω
```

### –ú–µ—Å—è—á–Ω—ã–π:
```
1-–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞:
‚úÖ monthCost = 0
‚úÖ totalRequests = 0
‚úÖ –ù–æ–≤—ã–π —Ü–∏–∫–ª –Ω–∞—á–∞—Ç
```

---

## üõ†Ô∏è –í–Ω–µ–¥—Ä–µ–Ω–∏–µ:

### –®–∞–≥ 1: –ò–º–ø–æ—Ä—Ç
```typescript
import { getBudgetGuard, API_COSTS } from '@/lib/dataforseo/budget-guard';
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
```typescript
const guard = getBudgetGuard();
const estimatedCost = guard.estimateCost('SEARCH_VOLUME', keywords.length);
const check = guard.canMakeRequest(estimatedCost, keywords.length);

if (!check.allowed) {
  throw new Error(check.reason);
}

if (check.warning) {
  console.warn(check.warning);
}
```

### –®–∞–≥ 3: –ó–∞–ø–∏—Å—å –ø–æ—Å–ª–µ –∑–∞–ø—Ä–æ—Å–∞
```typescript
const response = await dataForSeoClient.getKeywordsData(...);
const actualCost = response.cost || estimatedCost;
guard.recordUsage(actualCost);
```

---

## üí° –ò—Ç–æ–≥:

‚úÖ **100% –∑–∞—â–∏—Ç–∞** –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥–∞  
‚úÖ **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** –ª–∏–º–∏—Ç–æ–≤  
‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —É—á–µ—Ç** –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞  
‚úÖ **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è** –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫ –ª–∏–º–∏—Ç—É  

**–í–∞—à –±—é–¥–∂–µ—Ç $42 –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!** üí∞üõ°Ô∏è
